
<!DOCTYPE html>

<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="icon" type="image/png" href="/img/sand2.png">
  <link rel="shortcut icon" type="image/x-icon" href="/img/sand2.png">
  <meta property="og:image" content="https://assets-cdn.github.com/images/modules/open_graph/github-octocat.png">
  
  <link rel="stylesheet" href="/css/style.css?v=1.3"> 
  <link href="//vjs.zencdn.net/6.7/video-js.min.css" rel="stylesheet">
  <script src="//vjs.zencdn.net/6.7/video.min.js"></script>
  
  <title>哈希函数 15 | 小沙丘的网络漫游记</title>
 <meta name="description" content="" >

 <!-- 百度统计 -->
 <script>
  var _hmt = _hmt || [];
  (function() {
    var hm = document.createElement("script");
    hm.src = "https://hm.baidu.com/hm.js?eafa0040e1ab3bed28ce82ef03de6e01";
    var s = document.getElementsByTagName("script")[0]; 
    s.parentNode.insertBefore(hm, s);
  })();
  </script>
  
<link rel="stylesheet" href="/css/prism-ghcolors.css" type="text/css"></head>
<body>
  
  <script>
      if (/mobile/i.test(navigator.userAgent) || /android/i.test(navigator.userAgent)){
        document.body.classList.add('mobile');            
      } else{
        document.body.classList.add('pc');
        document.getElementsByTagName("html")[0].style.fontSize="62.5%";
      }
      var u = navigator.userAgent;
var isAndroid = u.indexOf('Android') > -1 || u.indexOf('Adr') > -1; //android终端
var isiOS = !!u.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/); //ios终端
if(isiOS){
  document.body.classList.add('ios');
  document.getElementsByTagName("html")[0].style.fontSize="65%";
           
}
    </script>

  <div class="container">
<!-- 用于文章页面的顶部，提供返回主页和主题页的按键 -->
<!-- 头部开始 -->

<div id="header">
    <p>小沙丘的网络漫游记
      <span> » 
        <a href="/home/">首页</a>
      </span>
      
      <span> » 
          <a href="/tags/区块链/">
            区块链
          </a>
      </span>
      
    </p>
</div>

<!-- 头部结束 -->



<!-- 分类组件，放置于文章页面的顶部，提供上(或下)一篇导航按键。 -->
<div class="asset-nav">
    <div class="entry-categories">
      <p>主题：
        <span> 
            <a href="/tags/区块链/">
              区块链
            </a>
        </span>
      </p>
    </div>
    <div class="entry-location-mobile">
        <span>
            
            <a href="/2018/05/13/online-qukuai-doc-14/">
            &#8676;
            </a>
        </span>
        <span>
            
            <a href="/2018/05/13/online-qukuai-doc-16/">
              &#8677;
            </a>
        </span>
    </div>
    <div class="entry-location">
        <P>上一篇：
                <a href="/2018/05/13/online-qukuai-doc-14/">
                    椭圆曲线 14
                </a>
        </P>
        <P>下一篇：

                <a href="/2018/05/13/online-qukuai-doc-16/">
                    闪电网络 16
                </a>
        </P>
    </div>
</div>

<div class="post">
<div class="title-post">
<h1>哈希函数 15</h1>
<div class="post-meta">
  <p>作者： Lian</p>
  <p>日期：
    2018年05月13日 13:05
  </p>
</div>
</div>



  
  <div class="page">
      <h2 id="什么是哈希函数？"><a href="#什么是哈希函数？" class="headerlink" title="什么是哈希函数？"></a>什么是哈希函数？</h2><p>从理论上讲，哈希函数就是一种数学流程，将任意大小的输入数据放入该流程，然后返回固定大小的输出数据。</p>
<p>更具体地讲就是，提取任意长度的字母序列作为输入——我们将其称为string——然后返回一个固定长度的字母序列。无论这个输入string是一个单一的字母，单词，句子还是整部小说，而输出的长度——叫做摘要（digest）——永远都是相同的。</p>
<p>这种类型的哈希函数的常见用例就是存储密码。</p>
<p>当你使用任何一种网络服务创建一种需要密码的用户账户时。这种密码都是通过哈希函数运行的，存储的就是该密码信息的哈希摘要。当你输入密码来登录账号时，然后相同的哈希函数就会去运行你输入的密码，然后服务器就会检查其结果是否与存储的摘要相匹配。</p>
<p>这就意味着即使黑客能够访问用于存储哈希的数据库，他们也不可能立即破坏所有用户账户，因为无法轻易找到生成某一特定哈希的密码。</p>
<h2 id="Python简单哈希函数"><a href="#Python简单哈希函数" class="headerlink" title="Python简单哈希函数"></a>Python简单哈希函数</h2><p>你可以使用Python（Mac和Linux操作系统在默认情况下安装的编程语言）来实验哈希值。（本教程假设使用了某种版本的OSX或者Linux系统，因为Windows使用Python会更加复杂）</p>
<p>首先，打开终端，输入python并点击Enter。</p>
<p>然后你将进入Python REPL，在这种环境下，你可以直接试用Python命令，而不是在单独的文件中编写程序。</p>
<p>然后输入以下数值，在每行之后敲击Enter，并在标记处输入TAB：</p>
<pre class=" language-python"><code class="language-python"><span class="token keyword">import</span> hashlib
<span class="token keyword">def</span> <span class="token function">hash</span><span class="token punctuation">(</span>mystring<span class="token punctuation">)</span><span class="token punctuation">:</span>
<span class="token punctuation">[</span>TAB<span class="token punctuation">]</span> hash_object <span class="token operator">=</span> hashlib<span class="token punctuation">.</span>md5<span class="token punctuation">(</span>mystring<span class="token punctuation">.</span>encode<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">[</span>TAB<span class="token punctuation">]</span> <span class="token keyword">print</span><span class="token punctuation">(</span>hash_object<span class="token punctuation">.</span>hexdigest<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">[</span>ENTER<span class="token punctuation">]</span>
</code></pre>
<p>这样你就创建了一个函数——hash()，该函数将计算出某一特定的使用MD5哈希算法的字符串的哈希值。将字符串插入上述的括号（）中便可运行该函数。例如：</p>
<pre class=" language-python"><code class="language-python">hash<span class="token punctuation">(</span>“CoinDesk rocks”<span class="token punctuation">)</span>
</code></pre>
<p>按下Enter并查看该字符串的哈希摘要。</p>
<p>你将看到在同一字符串上调用该哈希函数将会总是生成相同的哈希，但添加或改变其中的某一个字符将会生成一种完全不同的哈希值：</p>
<pre class=" language-python"><code class="language-python">hash<span class="token punctuation">(</span><span class="token string">"CoinDesk rocks"</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token number">7ae26e64679abd1e66cfe1e9b93a9e85</span>
hash<span class="token punctuation">(</span><span class="token string">"CoinDesk rocks!"</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token number">6b1f6fde5ae60b2fe1bfe50677434c88</span>
</code></pre>
<h3 id="比特币哈希函数"><a href="#比特币哈希函数" class="headerlink" title="比特币哈希函数"></a>比特币哈希函数</h3><p>在比特币协议中，哈希函数是区块哈希算法的一部分，区块哈希算法可以用来通过挖矿流程将新的交易编写到区块链中。</p>
<p>在比特币挖矿过程中，函数的输入都是来自于最近的尚未确认的交易（以及一些与前一个区块相关的时间戳和引用一些额外输入）</p>
<p>在以上代码示例中，我们已经看到改变哈希函数中的一小部分会导致产生一种完全不同的输出。这个属性与挖矿过程中的“工作量证明（POW）”算法至关重要：为了成功“解决”一个区块，矿工需要以这种方式将所有输入与他们自己的输入数据结合，由此产生的哈希将以某些0开头。</p>
<p>作为一种基础的演示，我们可以通过在“CoinDesk rocks!”后面手动添加尝试感叹号（！），以此尝试使用我们的Python哈希函数来进行“挖矿”，知道我们找到以单个0开头的哈希。</p>
<pre class=" language-bash"><code class="language-bash"><span class="token operator">>></span><span class="token operator">></span> hash<span class="token punctuation">(</span><span class="token string">"CoinDesk rocks!!"</span><span class="token punctuation">)</span>
66925f1da83c54354da73d81e013974d
<span class="token operator">>></span><span class="token operator">></span> hash<span class="token punctuation">(</span><span class="token string">"CoinDesk rocks!!!"</span><span class="token punctuation">)</span>
c8de96b4cf781a6373766c668ceac0f0
<span class="token operator">>></span><span class="token operator">></span> hash<span class="token punctuation">(</span><span class="token string">"CoinDesk rocks!!!!"</span><span class="token punctuation">)</span>
9ea367cea6a2cc4a6f5a1d9a334d0d9e
<span class="token operator">>></span><span class="token operator">></span> hash<span class="token punctuation">(</span><span class="token string">"CoinDesk rocks!!!!!"</span><span class="token punctuation">)</span>
b8d43387d98f035e2f0ac49740a5af38
<span class="token operator">>></span><span class="token operator">></span> hash<span class="token punctuation">(</span><span class="token string">"CoinDesk rocks!!!!!!"</span><span class="token punctuation">)</span>
</code></pre>
<p>0fe46518541f4739613b9ce29ecea6b6 =&gt; SOLVED!<br>当然，为比特币区块解决哈希——编写该文时，必须以18个0开头——需要一个非常大的计算量（比特币网络的所有计算机处理能力结合在一起仍旧需要接近10分钟才能解决一个区块）。</p>
<p>需要大量的处理能力就意味着新比特币的挖掘需要一个长期的过程才能完成，而无法一次性将所有的比特币全部挖出。</p>
<p>为了能够从挖矿中赚取比特币，你需要投入大量的工作来解决区块——通过获得这种奖励，你将所有的新交易锁入区块中，也就是添加到之前所有交易的永久性记录中：区块链。</p>

  </div>
</div>


<p class="nav-foot">
  <span class="left"><a href="/2018/05/13/online-qukuai-doc-14/">« 椭圆曲线 14</a></span>
  <span class="right"><a href="/2018/05/13/online-qukuai-doc-16/">闪电网络 16 »</a></span>
</p>

<!-- 文档信息 -->
<div class="post-foot">
  <h3>文档信息</h3>
  <ul>
    <li>版权声明：自由转载-非商用-非衍生-保持署名（
      <a href="http://creativecommons.org/licenses/by-nc-nd/3.0/deed.zh">创意共享3.0许可证</a>）
    </li>
    <li>作者：<a href="/">Lian</a></li>
    <li>日期：2018年05月13日 13:05</li>
    <li>邮箱：lian1925@126.com</li>
  </ul>
</div>
      




<div class="content-comment">
  <h2>留言</h2>
  
  
		
</div>

<!-- 评论输入组件，填写数据：留言，称呼，电子邮件 -->

<div class="form-comment">
  <h2>
		我要发表看法
	</h2>

	<form method="post" 
	target="targetIfr"
	action="">
	 <!-- 留言正文 -->
	 
		
<p>
	<label for="comment-content">
		您的留言:
	</label>
</p>

<p>
	<textarea 
	id="comment-content" 
	name="content" 
	rows="10" cols="50">
	</textarea>
</p>

		<!-- 姓名 -->
	 
		
<p>
	<label for="comment-author">
		您的大名:
	</label>
</p>

<p>
	<input 
	id="comment-author" 
	name="author" 
	size="30" 
	value=""
	pattern="^.{2,150}$"
	required
	>
	<span class="hint">
			 «-必填
	</span
</p>


		<!-- 微信 -->
	 
		
<p>
	<label for="comment-wechat">
		您的微信:
	</label>
</p>

<p>
	<input 
	id="comment-wechat" 
	name="wechat" 
	size="30" 
	value=""
	pattern="^[a-zA-Zd_]{5,}$"
	
	>
	<span class="hint">
			 «-选填，不公开
	</span
</p>


		<!-- 电子邮箱 -->
		
		
<p>
	<label for="comment-email">
		电子邮箱：
	</label>
</p>

<p>
	<input 
	id="comment-email" 
	name="email" 
	size="30" 
	value=""
	pattern="^[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(.[a-zA-Z0-9_-]+)+$"
	
	>
	<span class="hint">
			 «-选填，不公开
	</span
</p>


		
		<p>

		
<div class="button">
    <input 
    class="submit-button" 
    onclick="doButton('addComment')"
    value="发表">
    <span class="hint"> «- 点击按钮</span>
</div>
		</p>
	</form>
	<iframe name="targetIfr" style="display:none"></iframe> 
</div>


<!-- data:{
	name:'',
	type:'passwor',
	label:'您的大名',
	hint:'',
	pattern:'[A-z]{3}',
	required:"required"
} -->


<p id="info-meta" style="display:none;">
  online-qukuai-doc-15
</p>


<p id="info-url" style="display:none;">
  
</p>

<div class="footer">
  Copyright @ <a href="/">lian</a> | 2009-2018
</div>

</div>

<script src="/js/jquery.js"></script>
<script src="/js/APlayer.min.js"></script>
<script src="/js/post.js"></script>

</body>

</html>

