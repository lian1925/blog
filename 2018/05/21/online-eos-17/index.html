
<!DOCTYPE html>

<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="icon" type="image/png" href="/img/sand2.png">
  <link rel="shortcut icon" type="image/x-icon" href="/img/sand2.png">
  <meta property="og:image" content="https://assets-cdn.github.com/images/modules/open_graph/github-octocat.png">
  
  <link rel="stylesheet" href="/css/style.css?v=1.3"> 
  <link href="//vjs.zencdn.net/6.7/video-js.min.css" rel="stylesheet">
  <script src="//vjs.zencdn.net/6.7/video.min.js"></script>
  
  <title>Bios Boot【启动】 Sequence【序列】 | 小沙丘的网络漫游记</title>
 <meta name="description" content="" >

 <!-- 百度统计 -->
 <script>
  var _hmt = _hmt || [];
  (function() {
    var hm = document.createElement("script");
    hm.src = "https://hm.baidu.com/hm.js?eafa0040e1ab3bed28ce82ef03de6e01";
    var s = document.getElementsByTagName("script")[0]; 
    s.parentNode.insertBefore(hm, s);
  })();
  </script>
  
<link rel="stylesheet" href="/css/prism-ghcolors.css" type="text/css"></head>
<body>
  
  <script>
      if (/mobile/i.test(navigator.userAgent) || /android/i.test(navigator.userAgent)){
        document.body.classList.add('mobile');            
      } else{
        document.body.classList.add('pc');
        document.getElementsByTagName("html")[0].style.fontSize="62.5%";
      }
      var u = navigator.userAgent;
var isAndroid = u.indexOf('Android') > -1 || u.indexOf('Adr') > -1; //android终端
var isiOS = !!u.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/); //ios终端
if(isiOS){
  document.body.classList.add('ios');
  document.getElementsByTagName("html")[0].style.fontSize="65%";
           
}
    </script>

  <div class="container">
<!-- 用于文章页面的顶部，提供返回主页和主题页的按键 -->
<!-- 头部开始 -->

<div id="header">
    <p>小沙丘的网络漫游记
      <span> » 
        <a href="/home/">首页</a>
      </span>
      
      <span> » 
          <a href="/tags/EOS/">
            EOS
          </a>
      </span>
      
    </p>
</div>

<!-- 头部结束 -->



<!-- 分类组件，放置于文章页面的顶部，提供上(或下)一篇导航按键。 -->
<div class="asset-nav">
    <div class="entry-categories">
      <p>主题：
        <span> 
            <a href="/tags/EOS/">
              EOS
            </a>
        </span>
      </p>
    </div>
    <div class="entry-location-mobile">
        <span>
            
            <a href="/2018/05/21/online-eos-16/">
            &#8676;
            </a>
        </span>
        <span>
            
            <a href="/2018/05/21/online-eos-18/">
              &#8677;
            </a>
        </span>
    </div>
    <div class="entry-location">
        <P>上一篇：
                <a href="/2018/05/21/online-eos-16/">
                    Comprehensive【理解】 Accounts【账户】 and Wallets【钱包】
                </a>
        </P>
        <P>下一篇：

                <a href="/2018/05/21/online-eos-18/">
                    Tic Tac Toe【游戏】
                </a>
        </P>
    </div>
</div>

<div class="post">
<div class="title-post">
<h1>Bios Boot【启动】 Sequence【序列】</h1>
<div class="post-meta">
  <p>作者： Lian</p>
  <p>日期：
    2018年05月21日 20:05
  </p>
</div>
</div>



  
  <div class="page">
      <h2 id="Bios-Boot【启动】-Sequence【序列】-Tutorial"><a href="#Bios-Boot【启动】-Sequence【序列】-Tutorial" class="headerlink" title="Bios Boot【启动】 Sequence【序列】 Tutorial"></a>Bios Boot【启动】 Sequence【序列】 Tutorial</h2><p>The description【描述】 below covers【覆盖】 the bios boot【启动】 sequence【序列】 to start a blockchain from a single【单一】 “genesis” node, transitioning to a voted【投票】 on set of producers.</p>
<p>The script bios-boot-tutorial.py implements these steps in a single-server installation【安装】 (all nodeos nodes running on the same server). The script can be run with no arguments【参数】 directly from the programs/bios-boot-tutorial directory【目录】.</p>
<pre class=" language-js"><code class="language-js">cd programs<span class="token operator">/</span>bios<span class="token operator">-</span>boot<span class="token operator">-</span>tutorial
<span class="token punctuation">.</span><span class="token operator">/</span>bios<span class="token operator">-</span>boot<span class="token operator">-</span>tutorial<span class="token punctuation">.</span>py
</code></pre>
<p>The script logs the commands it executes in ./test.log. This enables you to see what work it has done.</p>
<h2 id="Manual【手动】-Execution【执行】-of-the-Boot-Sequence【序列】"><a href="#Manual【手动】-Execution【执行】-of-the-Boot-Sequence【序列】" class="headerlink" title="Manual【手动】 Execution【执行】 of the Boot Sequence【序列】"></a>Manual【手动】 Execution【执行】 of the Boot Sequence【序列】</h2><p>The remainder of this document covers the same set of steps as the bios-boot-tutorial.py script, but walks you through the commands step by step, enabling you to directly【直接】 experience【经验】 using the commands. The manual steps below do not try to bring up a full blockchain【区块链】 or do the same scope of work as the script【脚本】. For example【示例】, the script generates【生成】 almost 400 accounts, 30+ running producer nodes, etc. This would be too unwieldy to do manually!</p>
<h2 id="Configure【配置】-the-initial【初始】-set-of-nodeos-nodes"><a href="#Configure【配置】-the-initial【初始】-set-of-nodeos-nodes" class="headerlink" title="Configure【配置】 the initial【初始】 set of nodeos nodes"></a>Configure【配置】 the initial【初始】 set of nodeos nodes</h2><p>In this tutorial, we will start【开始】 a number of nodeos nodes, point them to each other, and eventually【逐渐】 vote on a set of producers. All of the nodeos nodes will run on the same server. In the following sections, we take various【不同】 steps to prepare our candidate set of producers. We will use the naming convention accountnumXY, with XY chosen【选择】 from the digits 1-5, e.g.,</p>
<pre class=" language-js"><code class="language-js">accountnum11
accountnum12
<span class="token punctuation">.</span><span class="token punctuation">.</span>
accountnum15
accountnum21
<span class="token operator">...</span>
accountnum55
</code></pre>
<h3 id="Create【创建】-config-and-data-directories【目录】-for-each-nodeos"><a href="#Create【创建】-config-and-data-directories【目录】-for-each-nodeos" class="headerlink" title="Create【创建】 config and data directories【目录】 for each nodeos"></a>Create【创建】 config and data directories【目录】 for each nodeos</h3><p>Since【因为】 all of the nodeos nodes will run on the same【相同】 server, we need separate【分离】 config and data directories【目录】 for each. The following example creates【创建】 directories for each【每个】 nodeos under the directory ~/eosio_test. Use whatever method works best for you to create【创建】 a number of accounts, keeping in mind the naming restrictions【限制】 that account names must be exactly 12 characters, from the set of a-z and 1-5.</p>
<pre class=" language-js"><code class="language-js">$ mkdir <span class="token operator">~</span><span class="token operator">/</span>eosio_test
$ <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token punctuation">(</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> <span class="token number">5</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">do</span> <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token punctuation">(</span> j <span class="token operator">=</span> <span class="token number">1</span> <span class="token punctuation">;</span> j <span class="token operator">&lt;=</span><span class="token number">5</span> <span class="token punctuation">;</span> j<span class="token operator">++</span> <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">do</span> mkdir <span class="token operator">~</span><span class="token operator">/</span>eosio_test<span class="token operator">/</span>accountnum$i$j<span class="token punctuation">;</span> done<span class="token punctuation">;</span> done
</code></pre>
<p>You will use these directories with the –config-dir and –data-dir parameters【参数】 on the nodeos command line【命令行】.</p>
<h3 id="Configure【配置】-addresses【地址】-for-peer-to-peer-communication【通信】"><a href="#Configure【配置】-addresses【地址】-for-peer-to-peer-communication【通信】" class="headerlink" title="Configure【配置】 addresses【地址】 for peer-to-peer communication【通信】"></a>Configure【配置】 addresses【地址】 for peer-to-peer communication【通信】</h3><p>When we set up our producers【生产者】, we will want to configure【配置】 them to point to each other in order to perform peer-to-peer communication【通信】. If you set up a full mesh configuration【配置】, each node will point to all other nodes【节点】. A full mesh network will quickly grow【增长】 unwieldy. The description【描述】 below tells how to point nodes to other nodes in order to create【创建】 the peer-to-peer communication. Use this for the nodes you select to be peers, but it is recommended【推荐】 NOT to use this for all nodes【节点】, as your configuration will grow explosively.</p>
<p>Configure IP address and port numbers for peer-to-peer communication【通信】 among each nodeos node. Each nodeos can be configured【配置】 by setting the p2p-peer-address configuration property【合理】, either on the command line when starting【开启】 nodeos (one argument per peer), or by setting【设置】 the property in the config.ini file for nodeos (one line per peer).</p>
<p>For example, assuming【假定】 we are using【使用】 port numbers 9011-9055 for the producers【生产者】 (i.e., accountnum11 - accountnum55, respectively), include the following arguments【参数】 on the nodeos command line for accountnum12:</p>
<pre class=" language-js"><code class="language-js"><span class="token operator">--</span>p2p<span class="token operator">-</span>peer<span class="token operator">-</span>address localhost<span class="token punctuation">:</span><span class="token number">9011</span> <span class="token operator">--</span>p2p<span class="token operator">-</span>peer<span class="token operator">-</span>address localhost<span class="token punctuation">:</span><span class="token number">9013</span> <span class="token operator">--</span>p2p<span class="token operator">-</span>peer<span class="token operator">-</span>address localhost<span class="token punctuation">:</span><span class="token number">9014</span> <span class="token operator">...</span>
</code></pre>
<p>OR In the config.ini file for accountnum12, add【添加】 lines for each peer:</p>
<pre class=" language-js"><code class="language-js">p2p<span class="token operator">-</span>peer<span class="token operator">-</span>address <span class="token operator">=</span> localhost<span class="token punctuation">:</span><span class="token number">9011</span>
p2p<span class="token operator">-</span>peer<span class="token operator">-</span>address <span class="token operator">=</span> localhost<span class="token punctuation">:</span><span class="token number">9013</span>
p2p<span class="token operator">-</span>peer<span class="token operator">-</span>address <span class="token operator">=</span> localhost<span class="token punctuation">:</span><span class="token number">9014</span>
<span class="token operator">...</span>
</code></pre>
<p>If using the configuration file approach【方法】, you will have many copies【副本】 of the config.ini file, one in each ~/eosio_test/accountnumXY directory【目录】. Whether using the command line【命令行】 or config file approach, be careful to NOT include the producer’s own address【地址】 in the list【列表】 of peers.</p>
<h2 id="Start【启动】-the-“genesis”-node"><a href="#Start【启动】-the-“genesis”-node" class="headerlink" title="Start【启动】 the “genesis” node"></a>Start【启动】 the “genesis” node</h2><p>The “genesis” node is the first【第一个】 nodeos that we start, that will originate the blockchain【区块链】. All other【其他】 nodes will derive from【来自】 the genesis【初始】 node. Do the following on the genesis node.</p>
<h3 id="Create【创建】-a-wallet【钱包】"><a href="#Create【创建】-a-wallet【钱包】" class="headerlink" title="Create【创建】 a wallet【钱包】"></a>Create【创建】 a wallet【钱包】</h3><p>Create a wallet. By default【默认】, keosd is automatically【自动】 started to manage【管理】 the wallet.</p>
<pre class=" language-js"><code class="language-js">$ cleos wallet create
</code></pre>
<p>Be sure to save【保存】 the wallet password【密码】 to enable unlocking【解锁】 the wallet in the future【未来】.</p>
<p>The same wallet will be used for all key management【管理】 for all【所有】 accounts in this tutorial, regardless of which nodeos is being accessed【接入】. In a distributed【分布】 deployment, wallet management should be a local-only【本地】 activity.</p>
<p>Create the key【密钥】 for the eosio account</p>
<p>nodeos comes pre-configured【预先配置】 with a key pair【密钥对】, but we don’t want to use that key. Create【创建】 a key pair to be used for the eosio account when starting【开始】 the genesis node.</p>
<pre class=" language-js"><code class="language-js">$ cleos create key
Private key<span class="token punctuation">:</span> 5JGxnezvp3N4V1NxBo8LPBvCrdR85bZqZUFvBZ8ACrbRC3ZWNYv
Public key<span class="token punctuation">:</span> EOS8VJybqtm41PMmXL1QUUDSfCrs9umYN4U1ZNa34JhPZ9mU5r2Cm
</code></pre>
<h3 id="Start【启动】-the-first【第一】-nodeos-node"><a href="#Start【启动】-the-first【第一】-nodeos-node" class="headerlink" title="Start【启动】 the first【第一】 nodeos node"></a>Start【启动】 the first【第一】 nodeos node</h3><p>Start the genesis【起源】 node using the generated【生成】 key pair.</p>
<pre class=" language-js"><code class="language-js">$ nodeos <span class="token operator">--</span>enable<span class="token operator">-</span>stale<span class="token operator">-</span>production <span class="token operator">--</span>producer<span class="token operator">-</span>name eosio <span class="token operator">--</span><span class="token keyword">private</span><span class="token operator">-</span>key <span class="token string">'[ "EOS8VJybqtm41PMmXL1QUUDSfCrs9umYN4U1ZNa34JhPZ9mU5r2Cm","5JGxnezvp3N4V1NxBo8LPBvCrdR85bZqZUFvBZ8ACrbRC3ZWNYv" ]'</span> <span class="token operator">--</span>plugin eosio<span class="token punctuation">:</span><span class="token punctuation">:</span>producer_plugin <span class="token operator">--</span>plugin eosio<span class="token punctuation">:</span><span class="token punctuation">:</span>chain_api_plugin <span class="token operator">--</span>plugin eosio<span class="token punctuation">:</span><span class="token punctuation">:</span>http_plugin
</code></pre>
<h3 id="Set【设立】-the-eosio-tokencontract"><a href="#Set【设立】-the-eosio-tokencontract" class="headerlink" title="Set【设立】 the eosio.tokencontract"></a>Set【设立】 the eosio.tokencontract</h3><p>Create an account【账户】 for the eosio.token contract【合约】. We will generate【生成】 a unique【唯一】 key pair【密钥对】 for this account, but we will use the same key for both the account owner and active keys.</p>
<pre class=" language-js"><code class="language-js">$ cleos create key  # <span class="token keyword">for</span> eosio<span class="token punctuation">.</span>token
Private key<span class="token punctuation">:</span> 5KAVVPzPZnbAx8dHz6UWVPFDVFtU1P5ncUzwHGQFuTxnEbdHJL4
Public key<span class="token punctuation">:</span> EOS84BLRbGbFahNJEpnnJHYCoW9QPbQEk2iHsHGGS6qcVUq9HhutG

$ cleos wallet <span class="token keyword">import</span> 5KAVVPzPZnbAx8dHz6UWVPFDVFtU1P5ncUzwHGQFuTxnEbdHJL4
imported <span class="token keyword">private</span> key <span class="token keyword">for</span><span class="token punctuation">:</span> EOS84BLRbGbFahNJEpnnJHYCoW9QPbQEk2iHsHGGS6qcVUq9HhutG

$ cleos create account eosio eosio<span class="token punctuation">.</span>token EOS84BLRbGbFahNJEpnnJHYCoW9QPbQEk2iHsHGGS6qcVUq9HhutG EOS84BLRbGbFahNJEpnnJHYCoW9QPbQEk2iHsHGGS6qcVUq9HhutG
executed transaction<span class="token punctuation">:</span> d8fc14255dd576359043882e03b9a813c7c13facd7ec33c2c34357b59ffa2746  <span class="token number">200</span> bytes  <span class="token number">215</span> us
#         eosio <span class="token operator">&lt;=</span> eosio<span class="token punctuation">:</span><span class="token punctuation">:</span>newaccount            <span class="token punctuation">{</span><span class="token string">"creator"</span><span class="token punctuation">:</span><span class="token string">"eosio"</span><span class="token punctuation">,</span><span class="token string">"name"</span><span class="token punctuation">:</span><span class="token string">"eosio.token"</span><span class="token punctuation">,</span><span class="token string">"owner"</span><span class="token punctuation">:</span><span class="token punctuation">{</span><span class="token string">"threshold"</span><span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">"keys"</span><span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">"key"</span><span class="token punctuation">:</span>"EOS84BLRbGbFahNJEpnnJ<span class="token operator">...</span>
</code></pre>
<p>Set【设立】 the eosio.token contract【合约】. Note that this assumes【假定】 that you built eos in the ~/Documents/eos folder.</p>
<pre class=" language-js"><code class="language-js">$ cleos <span class="token keyword">set</span> contract eosio<span class="token punctuation">.</span>token <span class="token operator">~</span><span class="token operator">/</span>Documents<span class="token operator">/</span>eos<span class="token operator">/</span>build<span class="token operator">/</span>contracts<span class="token operator">/</span>eosio<span class="token punctuation">.</span>token
Reading WAST<span class="token operator">/</span>WASM <span class="token keyword">from</span> <span class="token operator">/</span>Users<span class="token operator">/</span>tutorial<span class="token operator">/</span>Documents<span class="token operator">/</span>eos<span class="token operator">/</span>build<span class="token operator">/</span>contracts<span class="token operator">/</span>eosio<span class="token punctuation">.</span>token<span class="token operator">/</span>eosio<span class="token punctuation">.</span>token<span class="token punctuation">.</span>wasm<span class="token operator">...</span>
Using already assembled WASM<span class="token operator">...</span>
Publishing contract<span class="token operator">...</span>
executed transaction<span class="token punctuation">:</span> 17fa4e06ed0b2f52cadae2cd61dee8fb3d89d3e46d5b133333816a04d23ba991  <span class="token number">8024</span> bytes  <span class="token number">974</span> us
#         eosio <span class="token operator">&lt;=</span> eosio<span class="token punctuation">:</span><span class="token punctuation">:</span>setcode               <span class="token punctuation">{</span><span class="token string">"account"</span><span class="token punctuation">:</span><span class="token string">"eosio.token"</span><span class="token punctuation">,</span><span class="token string">"vmtype"</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">"vmversion"</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">"code"</span><span class="token punctuation">:</span>"0061736d01000000017f1560037f7e7f0060057f7e<span class="token operator">...</span>
#         eosio <span class="token operator">&lt;=</span> eosio<span class="token punctuation">:</span><span class="token punctuation">:</span>setabi                <span class="token punctuation">{</span><span class="token string">"account"</span><span class="token punctuation">:</span><span class="token string">"eosio.token"</span><span class="token punctuation">,</span><span class="token string">"abi"</span><span class="token punctuation">:</span><span class="token punctuation">{</span><span class="token string">"types"</span><span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token string">"structs"</span><span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">"name"</span><span class="token punctuation">:</span><span class="token string">"transfer"</span><span class="token punctuation">,</span><span class="token string">"base"</span><span class="token punctuation">:</span><span class="token string">""</span><span class="token punctuation">,</span><span class="token string">"fields"</span><span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">"name"</span><span class="token operator">...</span>
</code></pre>
<h3 id="Set【设立】-the-eosio-msigcontract"><a href="#Set【设立】-the-eosio-msigcontract" class="headerlink" title="Set【设立】 the eosio.msigcontract"></a>Set【设立】 the eosio.msigcontract</h3><p>Create an account【账户】 for the eosio.msig contract【合约】. We will generate【生成】 a unique【唯一】 key pair for this account, but we will use the same【相同】 key for both the account owner【拥有者】 and active keys.</p>
<pre class=" language-js"><code class="language-js">$ cleos create key  # <span class="token keyword">for</span> eosio<span class="token punctuation">.</span>msig
Private key<span class="token punctuation">:</span> 5J2zhmRG33uYKd2n5wEydxdiqp6ymVKL5o9qCqAqiK1J3iAaRtT
Public key<span class="token punctuation">:</span> EOS73N6SCJ4nENVcv5iCFwu3uMY3o83Vd6qgq41CJhNK9LYhBiWzc

$ cleos wallet <span class="token keyword">import</span> 5J2zhmRG33uYKd2n5wEydxdiqp6ymVKL5o9qCqAqiK1J3iAaRtT
imported <span class="token keyword">private</span> key <span class="token keyword">for</span><span class="token punctuation">:</span> EOS73N6SCJ4nENVcv5iCFwu3uMY3o83Vd6qgq41CJhNK9LYhBiWzc

$ cleos create account eosio eosio<span class="token punctuation">.</span>msig EOS73N6SCJ4nENVcv5iCFwu3uMY3o83Vd6qgq41CJhNK9LYhBiWzc EOS73N6SCJ4nENVcv5iCFwu3uMY3o83Vd6qgq41CJhNK9LYhBiWzc
executed transaction<span class="token punctuation">:</span> f321e9e47f6b1b3d43975dc6938272da4eee6b39eb36c33a12c9887e45496cfe  <span class="token number">200</span> bytes  <span class="token number">142</span> us
#         eosio <span class="token operator">&lt;=</span> eosio<span class="token punctuation">:</span><span class="token punctuation">:</span>newaccount            <span class="token punctuation">{</span><span class="token string">"creator"</span><span class="token punctuation">:</span><span class="token string">"eosio"</span><span class="token punctuation">,</span><span class="token string">"name"</span><span class="token punctuation">:</span><span class="token string">"eosio.msig"</span><span class="token punctuation">,</span><span class="token string">"owner"</span><span class="token punctuation">:</span><span class="token punctuation">{</span><span class="token string">"threshold"</span><span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">"keys"</span><span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">"key"</span><span class="token punctuation">:</span>"EOS73N6SCJ4nENVcv5iCFw<span class="token operator">...</span>
</code></pre>
<p>Set【设置】 the eosio.msig contract【合约】. Note that this assumes【假想】 that you built【建立】 EOSIO in the ~/Documents/eos folder.</p>
<pre class=" language-js"><code class="language-js">$ cleos <span class="token keyword">set</span> contract eosio<span class="token punctuation">.</span>msig <span class="token operator">~</span><span class="token operator">/</span>Documents<span class="token operator">/</span>eos<span class="token operator">/</span>build<span class="token operator">/</span>contracts<span class="token operator">/</span>eosio<span class="token punctuation">.</span>msig
Reading WAST<span class="token operator">/</span>WASM <span class="token keyword">from</span> <span class="token operator">/</span>Users<span class="token operator">/</span>tutorial<span class="token operator">/</span>Documents<span class="token operator">/</span>eos<span class="token operator">/</span>build<span class="token operator">/</span>contracts<span class="token operator">/</span>eosio<span class="token punctuation">.</span>msig<span class="token operator">/</span>eosio<span class="token punctuation">.</span>msig<span class="token punctuation">.</span>wasm<span class="token operator">...</span>
Using already assembled WASM<span class="token operator">...</span>
Publishing contract<span class="token operator">...</span>
executed transaction<span class="token punctuation">:</span> 007507ad01de884377009d7dcf409bc41634e38da2feb6a117ceced8554a75bc  <span class="token number">8840</span> bytes  <span class="token number">925</span> us
#         eosio <span class="token operator">&lt;=</span> eosio<span class="token punctuation">:</span><span class="token punctuation">:</span>setcode               <span class="token punctuation">{</span><span class="token string">"account"</span><span class="token punctuation">:</span><span class="token string">"eosio.msig"</span><span class="token punctuation">,</span><span class="token string">"vmtype"</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">"vmversion"</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">"code"</span><span class="token punctuation">:</span>"0061736d010000000198011760017f0060047f7e7e7<span class="token operator">...</span>
#         eosio <span class="token operator">&lt;=</span> eosio<span class="token punctuation">:</span><span class="token punctuation">:</span>setabi                <span class="token punctuation">{</span><span class="token string">"account"</span><span class="token punctuation">:</span><span class="token string">"eosio.msig"</span><span class="token punctuation">,</span><span class="token string">"abi"</span><span class="token punctuation">:</span><span class="token punctuation">{</span><span class="token string">"types"</span><span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">"new_type_name"</span><span class="token punctuation">:</span><span class="token string">"account_name"</span><span class="token punctuation">,</span><span class="token string">"type"</span><span class="token punctuation">:</span><span class="token string">"name"</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token string">"structs"</span><span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token operator">...</span>
</code></pre>
<h3 id="Create【创建】-and-allocate【分配】-the-SYS-currency【货币】"><a href="#Create【创建】-and-allocate【分配】-the-SYS-currency【货币】" class="headerlink" title="Create【创建】 and allocate【分配】 the SYS currency【货币】"></a>Create【创建】 and allocate【分配】 the SYS currency【货币】</h3><p>Create the SYS currency with a maximum【最大】 value of 10 billion tokens. Then issue one billion tokens. You can replace【替换】 SYS with your specific【指定】 currency designation.</p>
<pre class=" language-js"><code class="language-js">$ cleos push action eosio<span class="token punctuation">.</span>token create <span class="token string">'[ "eosio", "10000000000.0000 SYS", 0, 0, 0]'</span> <span class="token operator">-</span>p eosio<span class="token punctuation">.</span>token
executed transaction<span class="token punctuation">:</span> 0440461e0d8816b4a8fd9d47c1a6a53536d3c7af54abf53eace884f008429697  <span class="token number">120</span> bytes  <span class="token number">326</span> us
#   eosio<span class="token punctuation">.</span>token <span class="token operator">&lt;=</span> eosio<span class="token punctuation">.</span>token<span class="token punctuation">:</span><span class="token punctuation">:</span>create          <span class="token punctuation">{</span><span class="token string">"issuer"</span><span class="token punctuation">:</span><span class="token string">"eosio"</span><span class="token punctuation">,</span><span class="token string">"maximum_supply"</span><span class="token punctuation">:</span><span class="token string">"10000000000.0000 SYS"</span><span class="token punctuation">}</span>

$ cleos push action eosio<span class="token punctuation">.</span>token issue <span class="token string">'[ "eosio", "1000000000.0000 SYS", "memo" ]'</span> <span class="token operator">-</span>p eosio
executed transaction<span class="token punctuation">:</span> a53961a566c1faa95531efb422cd952611b17d728edac833c9a55582425f98ed  <span class="token number">128</span> bytes  <span class="token number">432</span> us
#   eosio<span class="token punctuation">.</span>token <span class="token operator">&lt;=</span> eosio<span class="token punctuation">.</span>token<span class="token punctuation">:</span><span class="token punctuation">:</span>issue           <span class="token punctuation">{</span><span class="token string">"to"</span><span class="token punctuation">:</span><span class="token string">"eosio"</span><span class="token punctuation">,</span><span class="token string">"quantity"</span><span class="token punctuation">:</span><span class="token string">"1000000000.0000 SYS"</span><span class="token punctuation">,</span><span class="token string">"memo"</span><span class="token punctuation">:</span><span class="token string">"memo"</span><span class="token punctuation">}</span>
</code></pre>
<h3 id="Set【设置】-the-eosio-system-contract【合约】"><a href="#Set【设置】-the-eosio-system-contract【合约】" class="headerlink" title="Set【设置】 the eosio.system contract【合约】"></a>Set【设置】 the eosio.system contract【合约】</h3><p>Set the eosio.system contract. After【之后】 this we will be able to stake【分配股份】 our accounts.</p>
<pre class=" language-js"><code class="language-js">$ cleos <span class="token keyword">set</span> contract eosio <span class="token operator">~</span><span class="token operator">/</span>Documents<span class="token operator">/</span>eos<span class="token operator">/</span>build<span class="token operator">/</span>contracts<span class="token operator">/</span>eosio<span class="token punctuation">.</span>system
Reading WAST<span class="token operator">/</span>WASM <span class="token keyword">from</span> <span class="token operator">/</span>Users<span class="token operator">/</span>tutorial<span class="token operator">/</span>Documents<span class="token operator">/</span>eos<span class="token operator">/</span>build<span class="token operator">/</span>contracts<span class="token operator">/</span>eosio<span class="token punctuation">.</span>system<span class="token operator">/</span>eosio<span class="token punctuation">.</span>system<span class="token punctuation">.</span>wasm<span class="token operator">...</span>
Using already assembled WASM<span class="token operator">...</span>
Publishing contract<span class="token operator">...</span>
executed transaction<span class="token punctuation">:</span> 2150ed87e4564cd3fe98ccdea841dc9ff67351f9315b6384084e8572a35887cc  <span class="token number">39968</span> bytes  <span class="token number">4395</span> us
#         eosio <span class="token operator">&lt;=</span> eosio<span class="token punctuation">:</span><span class="token punctuation">:</span>setcode               <span class="token punctuation">{</span><span class="token string">"account"</span><span class="token punctuation">:</span><span class="token string">"eosio"</span><span class="token punctuation">,</span><span class="token string">"vmtype"</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">"vmversion"</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">"code"</span><span class="token punctuation">:</span>"0061736d0100000001be023060027f7e0060067f7e7e7f7f<span class="token operator">...</span>
#         eosio <span class="token operator">&lt;=</span> eosio<span class="token punctuation">:</span><span class="token punctuation">:</span>setabi                <span class="token punctuation">{</span><span class="token string">"account"</span><span class="token punctuation">:</span><span class="token string">"eosio"</span><span class="token punctuation">,</span><span class="token string">"abi"</span><span class="token punctuation">:</span><span class="token punctuation">{</span><span class="token string">"types"</span><span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token string">"structs"</span><span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">"name"</span><span class="token punctuation">:</span><span class="token string">"buyrambytes"</span><span class="token punctuation">,</span><span class="token string">"base"</span><span class="token punctuation">:</span><span class="token string">""</span><span class="token punctuation">,</span><span class="token string">"fields"</span><span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">"name"</span><span class="token punctuation">:</span>"p<span class="token operator">...</span>
</code></pre>
<h2 id="Stake-tokens-and-expand【扩展】-the-network"><a href="#Stake-tokens-and-expand【扩展】-the-network" class="headerlink" title="Stake tokens and expand【扩展】 the network"></a>Stake tokens and expand【扩展】 the network</h2><p>If you’ve followed the tutorial steps【步骤】 above to this point, you now have a single【单一】 node configuration configured【配置】 with the key contracts【合约】:</p>
<p>eosio.token<br>eosio.msig<br>eosio.system</p>
<p>We are now ready【准备】 to being staking accounts and expanding the network.</p>
<h3 id="Create【创建】-staked【股份】-accounts"><a href="#Create【创建】-staked【股份】-accounts" class="headerlink" title="Create【创建】 staked【股份】 accounts"></a>Create【创建】 staked【股份】 accounts</h3><p>During the boot【启动】 sequence【序列】, accounts are staked with their tokens【令牌】. In the initial【初始化】 staking process, tokens are staked 50/50 CPU and network【网络】. Additionally【另外】, by default, cleos stakes 8 KB of RAM on account creation【创建】, paid by the account creator. In the initial staking【股份】, the eosio account is the account creator doing the staking. Tokens staked during the initial token staking process【过程】 cannot be unstaked and made liquid until【直到】 after the minimum voting【投票】 requirements have been met.</p>
<p>For this tutorial, we distribute【分布】 1 billion tokens among our member【成员】 accounts and then stake those. To make the tutorial more realistic【客观】, we distribute the tokens using a Pareto distribution【分布】. The Pareto distribution models【模型】 an 80-20 rule, e.g., in this case, 80% of the tokens are held by 20% of the population. The examples here do not show how to generate the distribution【分布】, focusing instead on the commands【命令】 to do the staking. The script bios-boot-tutorial.py that accompanies【配合】 this tutorial uses the Python NumPy (numpy) library to generate a Pareto distribution.</p>
<h3 id="Create【创建】-a-staked【股份】-account"><a href="#Create【创建】-a-staked【股份】-account" class="headerlink" title="Create【创建】 a staked【股份】 account"></a>Create【创建】 a staked【股份】 account</h3><p>Use the following steps to stake tokens for each account【账户】. These steps【步骤】 must be done individually for each account.</p>
<p>Create【创建】 a staked account with initial【初始】 resources and public key.</p>
<pre class=" language-js"><code class="language-js">$ cleos system newaccount eosio <span class="token operator">--</span>transfer accountnum11 EOS8mUftJXepGzdQ2TaCduNuSPAfXJHf22uex4u41ab1EVv9EAhWt <span class="token operator">--</span>stake<span class="token operator">-</span>net <span class="token string">"100000.0000 SYS"</span> <span class="token operator">--</span>stake<span class="token operator">-</span>cpu <span class="token string">"100000.0000 SYS"</span>
775292ms thread<span class="token number">-0</span>   main<span class="token punctuation">.</span>cpp<span class="token punctuation">:</span><span class="token number">419</span>                  create_action        <span class="token punctuation">]</span> result<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token string">"binargs"</span><span class="token punctuation">:</span><span class="token string">"0000000000ea30551082d4334f4d113200200000"</span><span class="token punctuation">}</span> arg<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token string">"code"</span><span class="token punctuation">:</span><span class="token string">"eosio"</span><span class="token punctuation">,</span><span class="token string">"action"</span><span class="token punctuation">:</span><span class="token string">"buyrambytes"</span><span class="token punctuation">,</span><span class="token string">"args"</span><span class="token punctuation">:</span><span class="token punctuation">{</span><span class="token string">"payer"</span><span class="token punctuation">:</span><span class="token string">"eosio"</span><span class="token punctuation">,</span><span class="token string">"receiver"</span><span class="token punctuation">:</span><span class="token string">"accountnum11"</span><span class="token punctuation">,</span><span class="token string">"bytes"</span><span class="token punctuation">:</span><span class="token number">8192</span><span class="token punctuation">}</span><span class="token punctuation">}</span> 
775295ms thread<span class="token number">-0</span>   main<span class="token punctuation">.</span>cpp<span class="token punctuation">:</span><span class="token number">419</span>                  create_action        <span class="token punctuation">]</span> result<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token string">"binargs"</span><span class="token punctuation">:</span><span class="token string">"0000000000ea30551082d4334f4d113200ca9a3b00000000045359530000000000ca9a3b00000000045359530000000001"</span><span class="token punctuation">}</span> arg<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token string">"code"</span><span class="token punctuation">:</span><span class="token string">"eosio"</span><span class="token punctuation">,</span><span class="token string">"action"</span><span class="token punctuation">:</span><span class="token string">"delegatebw"</span><span class="token punctuation">,</span><span class="token string">"args"</span><span class="token punctuation">:</span><span class="token punctuation">{</span><span class="token string">"from"</span><span class="token punctuation">:</span><span class="token string">"eosio"</span><span class="token punctuation">,</span><span class="token string">"receiver"</span><span class="token punctuation">:</span><span class="token string">"accountnum11"</span><span class="token punctuation">,</span><span class="token string">"stake_net_quantity"</span><span class="token punctuation">:</span><span class="token string">"100000.0000 SYS"</span><span class="token punctuation">,</span><span class="token string">"stake_cpu_quantity"</span><span class="token punctuation">:</span><span class="token string">"100000.0000 SYS"</span><span class="token punctuation">,</span><span class="token string">"transfer"</span><span class="token punctuation">:</span><span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">}</span> 
executed transaction<span class="token punctuation">:</span> fb47254c316e736a26873cce1290cdafff07718f04335ea4faa4cb2e58c9982a  <span class="token number">336</span> bytes  <span class="token number">1799</span> us
#         eosio <span class="token operator">&lt;=</span> eosio<span class="token punctuation">:</span><span class="token punctuation">:</span>newaccount            <span class="token punctuation">{</span><span class="token string">"creator"</span><span class="token punctuation">:</span><span class="token string">"eosio"</span><span class="token punctuation">,</span><span class="token string">"name"</span><span class="token punctuation">:</span><span class="token string">"accountnum11"</span><span class="token punctuation">,</span><span class="token string">"owner"</span><span class="token punctuation">:</span><span class="token punctuation">{</span><span class="token string">"threshold"</span><span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">"keys"</span><span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">"key"</span><span class="token punctuation">:</span>"EOS8mUftJXepGzdQ2TaC<span class="token operator">...</span>
#         eosio <span class="token operator">&lt;=</span> eosio<span class="token punctuation">:</span><span class="token punctuation">:</span>buyrambytes           <span class="token punctuation">{</span><span class="token string">"payer"</span><span class="token punctuation">:</span><span class="token string">"eosio"</span><span class="token punctuation">,</span><span class="token string">"receiver"</span><span class="token punctuation">:</span><span class="token string">"accountnum11"</span><span class="token punctuation">,</span><span class="token string">"bytes"</span><span class="token punctuation">:</span><span class="token number">8192</span><span class="token punctuation">}</span>
#         eosio <span class="token operator">&lt;=</span> eosio<span class="token punctuation">:</span><span class="token punctuation">:</span>delegatebw            <span class="token punctuation">{</span><span class="token string">"from"</span><span class="token punctuation">:</span><span class="token string">"eosio"</span><span class="token punctuation">,</span><span class="token string">"receiver"</span><span class="token punctuation">:</span><span class="token string">"accountnum11"</span><span class="token punctuation">,</span><span class="token string">"stake_net_quantity"</span><span class="token punctuation">:</span><span class="token string">"100000.0000 SYS"</span><span class="token punctuation">,</span>"stake_cpu_quantity<span class="token operator">...</span>
</code></pre>
<h3 id="Register【注册】-as-a-producer【生产者】"><a href="#Register【注册】-as-a-producer【生产者】" class="headerlink" title="Register【注册】 as a producer【生产者】"></a>Register【注册】 as a producer【生产者】</h3><p>Some set of the accounts【账户】 created【创建】 will be registered【注册】 as producers. Choose【选择】 some set of the staked【股份】 accounts to be producers.</p>
<pre class=" language-js"><code class="language-js">$ cleos system regproducer accountnum11 EOS8mUftJXepGzdQ2TaCduNuSPAfXJHf22uex4u41ab1EVv9EAhWt https<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span>accountnum11<span class="token punctuation">.</span>com<span class="token operator">/</span>EOS8mUftJXepGzdQ2TaCduNuSPAfXJHf22uex4u41ab1EVv9EAhWt
1487984ms thread<span class="token number">-0</span>   main<span class="token punctuation">.</span>cpp<span class="token punctuation">:</span><span class="token number">419</span>                  create_action        <span class="token punctuation">]</span> result<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token string">"binargs"</span><span class="token punctuation">:</span><span class="token string">"1082d4334f4d11320003fedd01e019c7e91cb07c724c614bbf644a36eff83a861b36723f29ec81dc9bdb4e68747470733a2f2f6163636f756e746e756d31312e636f6d2f454f53386d5566744a586570477a64513254614364754e7553504166584a48663232756578347534316162314556763945416857740000"</span><span class="token punctuation">}</span> arg<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token string">"code"</span><span class="token punctuation">:</span><span class="token string">"eosio"</span><span class="token punctuation">,</span><span class="token string">"action"</span><span class="token punctuation">:</span><span class="token string">"regproducer"</span><span class="token punctuation">,</span><span class="token string">"args"</span><span class="token punctuation">:</span><span class="token punctuation">{</span><span class="token string">"producer"</span><span class="token punctuation">:</span><span class="token string">"accountnum11"</span><span class="token punctuation">,</span><span class="token string">"producer_key"</span><span class="token punctuation">:</span><span class="token string">"EOS8mUftJXepGzdQ2TaCduNuSPAfXJHf22uex4u41ab1EVv9EAhWt"</span><span class="token punctuation">,</span><span class="token string">"url"</span><span class="token punctuation">:</span><span class="token string">"https://accountnum11.com/EOS8mUftJXepGzdQ2TaCduNuSPAfXJHf22uex4u41ab1EVv9EAhWt"</span><span class="token punctuation">,</span><span class="token string">"location"</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">}</span> 
executed transaction<span class="token punctuation">:</span> 4ebe9258bdf1d9ac8ad3821f6fcdc730823810a345c18509ac41f7ef9b278e0c  <span class="token number">216</span> bytes  <span class="token number">896</span> us
#         eosio <span class="token operator">&lt;=</span> eosio<span class="token punctuation">:</span><span class="token punctuation">:</span>regproducer           <span class="token punctuation">{</span><span class="token string">"producer"</span><span class="token punctuation">:</span><span class="token string">"accountnum11"</span><span class="token punctuation">,</span><span class="token string">"producer_key"</span><span class="token punctuation">:</span><span class="token string">"EOS8mUftJXepGzdQ2TaCduNuSPAfXJHf22uex4u41ab1EVv9EAhWt"</span><span class="token punctuation">,</span>"u<span class="token operator">...</span>
</code></pre>
<h3 id="List【列出】-the-producers【生产者】"><a href="#List【列出】-the-producers【生产者】" class="headerlink" title="List【列出】 the producers【生产者】"></a>List【列出】 the producers【生产者】</h3><p>To facilitate【帮助】 the voting【投票】 process【过程】, list【列出】 the available【可用】 producers.</p>
<pre class=" language-js"><code class="language-js">$ cleos system listproducers
Producer      Producer key                                           Url                                                         Scaled votes
accountnum11  EOS8mUftJXepGzdQ2TaCduNuSPAfXJHf22uex4u41ab1EVv9EAhWt  https<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span>accountnum11<span class="token punctuation">.</span>com<span class="token operator">/</span>EOS8mUftJXepGzdQ2TaCduNuSPAfXJHf22 <span class="token number">0.0000</span>
accountnum22  EOS5kgeCLuQo8MMLnkZfqcBA3GRFgQsPyDddHWmXceRLjRX8LJRaH  https<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span>accountnum22<span class="token punctuation">.</span>com<span class="token operator">/</span>EOS5kgeCLuQo8MMLnkZfqcBA3GRFgQsPyD <span class="token number">0.0000</span>
accountnum33  EOS63CnoyfeEQDjXXxwywN5PPKW7RYHC9tbtmvb8vFBGZooktz7kG  https<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span>accountnum33<span class="token punctuation">.</span>com<span class="token operator">/</span>EOS63CnoyfeEQDjXXxwywN5PPKW7RYHC9t <span class="token number">0.0000</span>
accountnum44  EOS6kBaCHrvz7VdUfFBLrLdhNjXYaKBmRkpDXU9PhbEUiHbspr7rz  https<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span>accountnum44<span class="token punctuation">.</span>com<span class="token operator">/</span>EOS6kBaCHrvz7VdUfFBLrLdhNjXYaKBmRk <span class="token number">0.0000</span>
</code></pre>
<h3 id="Start【启动】-the-producers【生产者】"><a href="#Start【启动】-the-producers【生产者】" class="headerlink" title="Start【启动】 the producers【生产者】"></a>Start【启动】 the producers【生产者】</h3><p>Use【使用】 the following command to start【启动】 the producers. Recall【重新调用】 that in this tutorial, all of the producers are running on a single【单一】 server, so command line arguments【参数】 are used to ensure【保证】 each producer is using its own【自己】 directory【目录】. This also expects【期望】 that the genesis.json file, e.g, see below, has been copied【复制】 to the respective account directories.</p>
<pre class=" language-js"><code class="language-js"><span class="token punctuation">{</span>
  <span class="token string">"initial_timestamp"</span><span class="token punctuation">:</span> <span class="token string">"2018-03-02T12:00:00.000"</span><span class="token punctuation">,</span>
  <span class="token string">"initial_key"</span><span class="token punctuation">:</span> <span class="token string">"EOS8Znrtgwt8TfpmbVpTKvA2oB8Nqey625CLN8bCN3TEbgx86Dsvr"</span><span class="token punctuation">,</span>
  <span class="token string">"initial_configuration"</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token string">"max_block_net_usage"</span><span class="token punctuation">:</span> <span class="token number">1048576</span><span class="token punctuation">,</span>
    <span class="token string">"target_block_net_usage_pct"</span><span class="token punctuation">:</span> <span class="token number">1000</span><span class="token punctuation">,</span>
    <span class="token string">"max_transaction_net_usage"</span><span class="token punctuation">:</span> <span class="token number">524288</span><span class="token punctuation">,</span>
    <span class="token string">"base_per_transaction_net_usage"</span><span class="token punctuation">:</span> <span class="token number">12</span><span class="token punctuation">,</span>
    <span class="token string">"net_usage_leeway"</span><span class="token punctuation">:</span> <span class="token number">500</span><span class="token punctuation">,</span>
    <span class="token string">"context_free_discount_net_usage_num"</span><span class="token punctuation">:</span> <span class="token number">20</span><span class="token punctuation">,</span>
    <span class="token string">"context_free_discount_net_usage_den"</span><span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">,</span>
    <span class="token string">"max_block_cpu_usage"</span><span class="token punctuation">:</span> <span class="token number">100000</span><span class="token punctuation">,</span>
    <span class="token string">"target_block_cpu_usage_pct"</span><span class="token punctuation">:</span> <span class="token number">500</span><span class="token punctuation">,</span>
    <span class="token string">"max_transaction_cpu_usage"</span><span class="token punctuation">:</span> <span class="token number">50000</span><span class="token punctuation">,</span>
    <span class="token string">"min_transaction_cpu_usage"</span><span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">,</span>
    <span class="token string">"max_transaction_lifetime"</span><span class="token punctuation">:</span> <span class="token number">3600</span><span class="token punctuation">,</span>
    <span class="token string">"deferred_trx_expiration_window"</span><span class="token punctuation">:</span> <span class="token number">600</span><span class="token punctuation">,</span>
    <span class="token string">"max_transaction_delay"</span><span class="token punctuation">:</span> <span class="token number">3888000</span><span class="token punctuation">,</span>
    <span class="token string">"max_inline_action_size"</span><span class="token punctuation">:</span> <span class="token number">4096</span><span class="token punctuation">,</span>
    <span class="token string">"max_inline_action_depth"</span><span class="token punctuation">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
    <span class="token string">"max_authority_depth"</span><span class="token punctuation">:</span> <span class="token number">6</span><span class="token punctuation">,</span>
    <span class="token string">"max_generated_transaction_count"</span><span class="token punctuation">:</span> <span class="token number">16</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string">"initial_chain_id"</span><span class="token punctuation">:</span> <span class="token string">"0000000000000000000000000000000000000000000000000000000000000000"</span>
<span class="token punctuation">}</span>
</code></pre>
<p>In a separate【分离】 window for each producer【生产者】, run【运行】 the following nodeos command, adjusting【调整】 the command line arguments for each producer.</p>
<pre class=" language-js"><code class="language-js">$ nodeos <span class="token operator">--</span>genesis<span class="token operator">-</span>json <span class="token operator">~</span><span class="token operator">/</span>eosio_test<span class="token operator">/</span>accountnum11<span class="token operator">/</span>genesis<span class="token punctuation">.</span>json <span class="token operator">--</span>block<span class="token operator">-</span>log<span class="token operator">-</span>dir <span class="token operator">~</span><span class="token operator">/</span>eosio_test<span class="token operator">/</span>accountnum11<span class="token operator">/</span>blocks <span class="token operator">--</span>config<span class="token operator">-</span>dir <span class="token operator">~</span><span class="token operator">/</span>eosio_test<span class="token operator">/</span>accountnum11<span class="token operator">/</span> <span class="token operator">--</span>data<span class="token operator">-</span>dir <span class="token operator">~</span><span class="token operator">/</span>eosio_test<span class="token operator">/</span>accountnum11<span class="token operator">/</span> <span class="token operator">--</span>http<span class="token operator">-</span>server<span class="token operator">-</span>address <span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">8011</span> <span class="token operator">--</span>p2p<span class="token operator">-</span>listen<span class="token operator">-</span>endpoint <span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">9011</span> <span class="token operator">--</span>enable<span class="token operator">-</span>stale<span class="token operator">-</span>production <span class="token operator">--</span>producer<span class="token operator">-</span>name accountnum11 <span class="token operator">--</span><span class="token keyword">private</span><span class="token operator">-</span>key <span class="token string">'[ "EOS8mUftJXepGzdQ2TaCduNuSPAfXJHf22uex4u41ab1EVv9EAhWt","5K7EYY3j1YY14TSFVfqgtbWbrw3FA8BUUnSyFGgwHi8Uy61wU1o" ]'</span> <span class="token operator">--</span>plugin eosio<span class="token punctuation">:</span><span class="token punctuation">:</span>producer_plugin <span class="token operator">--</span>plugin eosio<span class="token punctuation">:</span><span class="token punctuation">:</span>chain_api_plugin <span class="token operator">--</span>plugin eosio<span class="token punctuation">:</span><span class="token punctuation">:</span>http_plugin <span class="token operator">--</span>p2p<span class="token operator">-</span>peer<span class="token operator">-</span>address localhost<span class="token punctuation">:</span><span class="token number">9022</span>  <span class="token operator">--</span>p2p<span class="token operator">-</span>peer<span class="token operator">-</span>address localhost<span class="token punctuation">:</span><span class="token number">9033</span>  <span class="token operator">--</span>p2p<span class="token operator">-</span>peer<span class="token operator">-</span>address localhost<span class="token punctuation">:</span><span class="token number">9044</span>
</code></pre>
<p>Note that until【直到】 all【所有】 producers are up, connection error【错误】 messages such as the following will be generated【生成】.</p>
<pre class=" language-js"><code class="language-js">1826099ms thread<span class="token number">-0</span>   net_plugin<span class="token punctuation">.</span>cpp<span class="token punctuation">:</span><span class="token number">2927</span>           plugin_startup       <span class="token punctuation">]</span> starting listener<span class="token punctuation">,</span> max clients is <span class="token number">25</span>
1826099ms thread<span class="token number">-0</span>   net_plugin<span class="token punctuation">.</span>cpp<span class="token punctuation">:</span><span class="token number">676</span>            connection           <span class="token punctuation">]</span> created connection to localhost<span class="token punctuation">:</span><span class="token number">9022</span>
1826099ms thread<span class="token number">-0</span>   net_plugin<span class="token punctuation">.</span>cpp<span class="token punctuation">:</span><span class="token number">1948</span>           connect              <span class="token punctuation">]</span> host<span class="token punctuation">:</span> localhost port<span class="token punctuation">:</span> <span class="token number">9022</span> 
1826099ms thread<span class="token number">-0</span>   net_plugin<span class="token punctuation">.</span>cpp<span class="token punctuation">:</span><span class="token number">676</span>            connection           <span class="token punctuation">]</span> created connection to localhost<span class="token punctuation">:</span><span class="token number">9033</span>
1826099ms thread<span class="token number">-0</span>   net_plugin<span class="token punctuation">.</span>cpp<span class="token punctuation">:</span><span class="token number">1948</span>           connect              <span class="token punctuation">]</span> host<span class="token punctuation">:</span> localhost port<span class="token punctuation">:</span> <span class="token number">9033</span> 
1826099ms thread<span class="token number">-0</span>   net_plugin<span class="token punctuation">.</span>cpp<span class="token punctuation">:</span><span class="token number">676</span>            connection           <span class="token punctuation">]</span> created connection to localhost<span class="token punctuation">:</span><span class="token number">9044</span>
1826099ms thread<span class="token number">-0</span>   net_plugin<span class="token punctuation">.</span>cpp<span class="token punctuation">:</span><span class="token number">1948</span>           connect              <span class="token punctuation">]</span> host<span class="token punctuation">:</span> localhost port<span class="token punctuation">:</span> <span class="token number">9044</span> 
1826100ms thread<span class="token number">-0</span>   net_plugin<span class="token punctuation">.</span>cpp<span class="token punctuation">:</span><span class="token number">1989</span>           <span class="token function">operator</span><span class="token punctuation">(</span><span class="token punctuation">)</span>           <span class="token punctuation">]</span> connection failed to localhost<span class="token punctuation">:</span><span class="token number">9022</span><span class="token punctuation">:</span> Connection refused
1826100ms thread<span class="token number">-0</span>   net_plugin<span class="token punctuation">.</span>cpp<span class="token punctuation">:</span><span class="token number">1989</span>           <span class="token function">operator</span><span class="token punctuation">(</span><span class="token punctuation">)</span>           <span class="token punctuation">]</span> connection failed to localhost<span class="token punctuation">:</span><span class="token number">9033</span><span class="token punctuation">:</span> Connection refused
1826100ms thread<span class="token number">-0</span>   net_plugin<span class="token punctuation">.</span>cpp<span class="token punctuation">:</span><span class="token number">1989</span>           <span class="token function">operator</span><span class="token punctuation">(</span><span class="token punctuation">)</span>           <span class="token punctuation">]</span> connection failed to localhost<span class="token punctuation">:</span><span class="token number">9044</span><span class="token punctuation">:</span> Connection refused
</code></pre>
<p>For convenience【方便】, the following commands【命令】 can be run【运行】 (in separate shell windows) for accounts【账户】 accountnum22, accountnum33, and accountnum44. If you run【运行】 these, you can see how multiple【多】 nodes respond when running in a peer-to-peer【点对点】 configuration. This assumes【假设】 that accounts have been staked【股份】 using the relevant key pairs (the key pairs can be seen【发送】 in each of the command lines below).</p>
<pre class=" language-js"><code class="language-js">$ nodeos <span class="token operator">--</span>genesis<span class="token operator">-</span>json <span class="token operator">~</span><span class="token operator">/</span>eosio_test<span class="token operator">/</span>accountnum22<span class="token operator">/</span>genesis<span class="token punctuation">.</span>json <span class="token operator">--</span>block<span class="token operator">-</span>log<span class="token operator">-</span>dir <span class="token operator">~</span><span class="token operator">/</span>eosio_test<span class="token operator">/</span>accountnum22<span class="token operator">/</span>blocks <span class="token operator">--</span>config<span class="token operator">-</span>dir <span class="token operator">~</span><span class="token operator">/</span>eosio_test<span class="token operator">/</span>accountnum22<span class="token operator">/</span> <span class="token operator">--</span>data<span class="token operator">-</span>dir <span class="token operator">~</span><span class="token operator">/</span>eosio_test<span class="token operator">/</span>accountnum22<span class="token operator">/</span> <span class="token operator">--</span>http<span class="token operator">-</span>server<span class="token operator">-</span>address <span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">8022</span> <span class="token operator">--</span>p2p<span class="token operator">-</span>listen<span class="token operator">-</span>endpoint <span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">9022</span> <span class="token operator">--</span>enable<span class="token operator">-</span>stale<span class="token operator">-</span>production <span class="token operator">--</span>producer<span class="token operator">-</span>name accountnum22 <span class="token operator">--</span><span class="token keyword">private</span><span class="token operator">-</span>key <span class="token string">'[ "EOS5kgeCLuQo8MMLnkZfqcBA3GRFgQsPyDddHWmXceRLjRX8LJRaH","5Jh4rseyguLx5Y7KE2oLL81PRmDcyyzbyyyJd3GvdHijKqENbRk" ]'</span> <span class="token operator">--</span>plugin eosio<span class="token punctuation">:</span><span class="token punctuation">:</span>producer_plugin <span class="token operator">--</span>plugin eosio<span class="token punctuation">:</span><span class="token punctuation">:</span>chain_api_plugin <span class="token operator">--</span>plugin eosio<span class="token punctuation">:</span><span class="token punctuation">:</span>http_plugin <span class="token operator">--</span>p2p<span class="token operator">-</span>peer<span class="token operator">-</span>address localhost<span class="token punctuation">:</span><span class="token number">9011</span>  <span class="token operator">--</span>p2p<span class="token operator">-</span>peer<span class="token operator">-</span>address localhost<span class="token punctuation">:</span><span class="token number">9033</span>  <span class="token operator">--</span>p2p<span class="token operator">-</span>peer<span class="token operator">-</span>address localhost<span class="token punctuation">:</span><span class="token number">9044</span>
$ nodeos <span class="token operator">--</span>genesis<span class="token operator">-</span>json <span class="token operator">~</span><span class="token operator">/</span>eosio_test<span class="token operator">/</span>accountnum33<span class="token operator">/</span>genesis<span class="token punctuation">.</span>json <span class="token operator">--</span>block<span class="token operator">-</span>log<span class="token operator">-</span>dir <span class="token operator">~</span><span class="token operator">/</span>eosio_test<span class="token operator">/</span>accountnum33<span class="token operator">/</span>blocks <span class="token operator">--</span>config<span class="token operator">-</span>dir <span class="token operator">~</span><span class="token operator">/</span>eosio_test<span class="token operator">/</span>accountnum33<span class="token operator">/</span> <span class="token operator">--</span>data<span class="token operator">-</span>dir <span class="token operator">~</span><span class="token operator">/</span>eosio_test<span class="token operator">/</span>accountnum33<span class="token operator">/</span> <span class="token operator">--</span>http<span class="token operator">-</span>server<span class="token operator">-</span>address <span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">8033</span> <span class="token operator">--</span>p2p<span class="token operator">-</span>listen<span class="token operator">-</span>endpoint <span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">9033</span> <span class="token operator">--</span>enable<span class="token operator">-</span>stale<span class="token operator">-</span>production <span class="token operator">--</span>producer<span class="token operator">-</span>name accountnum33 <span class="token operator">--</span><span class="token keyword">private</span><span class="token operator">-</span>key <span class="token string">'[ "EOS63CnoyfeEQDjXXxwywN5PPKW7RYHC9tbtmvb8vFBGZooktz7kG","5JWp5K24x5dbAFBNP7hwzSRS7XjD7wjHL4nrAwSLdRuJnERjgqB" ]'</span> <span class="token operator">--</span>plugin eosio<span class="token punctuation">:</span><span class="token punctuation">:</span>producer_plugin <span class="token operator">--</span>plugin eosio<span class="token punctuation">:</span><span class="token punctuation">:</span>chain_api_plugin <span class="token operator">--</span>plugin eosio<span class="token punctuation">:</span><span class="token punctuation">:</span>http_plugin <span class="token operator">--</span>p2p<span class="token operator">-</span>peer<span class="token operator">-</span>address localhost<span class="token punctuation">:</span><span class="token number">9011</span>  <span class="token operator">--</span>p2p<span class="token operator">-</span>peer<span class="token operator">-</span>address localhost<span class="token punctuation">:</span><span class="token number">9022</span>  <span class="token operator">--</span>p2p<span class="token operator">-</span>peer<span class="token operator">-</span>address localhost<span class="token punctuation">:</span><span class="token number">9044</span>
$ nodeos <span class="token operator">--</span>genesis<span class="token operator">-</span>json <span class="token operator">~</span><span class="token operator">/</span>eosio_test<span class="token operator">/</span>accountnum44<span class="token operator">/</span>genesis<span class="token punctuation">.</span>json <span class="token operator">--</span>block<span class="token operator">-</span>log<span class="token operator">-</span>dir <span class="token operator">~</span><span class="token operator">/</span>eosio_test<span class="token operator">/</span>accountnum44<span class="token operator">/</span>blocks <span class="token operator">--</span>config<span class="token operator">-</span>dir <span class="token operator">~</span><span class="token operator">/</span>eosio_test<span class="token operator">/</span>accountnum44<span class="token operator">/</span> <span class="token operator">--</span>data<span class="token operator">-</span>dir <span class="token operator">~</span><span class="token operator">/</span>eosio_test<span class="token operator">/</span>accountnum44<span class="token operator">/</span> <span class="token operator">--</span>http<span class="token operator">-</span>server<span class="token operator">-</span>address <span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">8044</span> <span class="token operator">--</span>p2p<span class="token operator">-</span>listen<span class="token operator">-</span>endpoint <span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">9044</span> <span class="token operator">--</span>enable<span class="token operator">-</span>stale<span class="token operator">-</span>production <span class="token operator">--</span>producer<span class="token operator">-</span>name accountnum44 <span class="token operator">--</span><span class="token keyword">private</span><span class="token operator">-</span>key <span class="token string">'[ "EOS6kBaCHrvz7VdUfFBLrLdhNjXYaKBmRkpDXU9PhbEUiHbspr7rz","5KeGoDkbhEdkZTpYqQg2rPZvtxqfWAtGgixuCLUt1Dmoq4NmXCj" ]'</span> <span class="token operator">--</span>plugin eosio<span class="token punctuation">:</span><span class="token punctuation">:</span>producer_plugin <span class="token operator">--</span>plugin eosio<span class="token punctuation">:</span><span class="token punctuation">:</span>chain_api_plugin <span class="token operator">--</span>plugin eosio<span class="token punctuation">:</span><span class="token punctuation">:</span>http_plugin <span class="token operator">--</span>p2p<span class="token operator">-</span>peer<span class="token operator">-</span>address localhost<span class="token punctuation">:</span><span class="token number">9011</span>  <span class="token operator">--</span>p2p<span class="token operator">-</span>peer<span class="token operator">-</span>address localhost<span class="token punctuation">:</span><span class="token number">9022</span>  <span class="token operator">--</span>p2p<span class="token operator">-</span>peer<span class="token operator">-</span>address localhost<span class="token punctuation">:</span><span class="token number">9033</span>
</code></pre>
<h3 id="Vote【投票】-for-producers【生产者】"><a href="#Vote【投票】-for-producers【生产者】" class="headerlink" title="Vote【投票】 for producers【生产者】"></a>Vote【投票】 for producers【生产者】</h3><p>Voting【投票】 for producers can begin as accounts are staked【股份】 and producers are registered【注册】.</p>
<p>The following command【命令】 enables votes to be cast.</p>
<pre class=" language-js"><code class="language-js">$ cleos system voteproducer prods accountnum23 accountnum11 accountnum33
</code></pre>
<p>In this example【示例】, account accountnum23 has voted for accountnum11 and accountnum33. Block production【生产】 does not begin【开始】 until 15% of the available【可用】 votes have been voted.</p>

  </div>
</div>


<p class="nav-foot">
  <span class="left"><a href="/2018/05/21/online-eos-16/">« Comprehens...</a></span>
  <span class="right"><a href="/2018/05/21/online-eos-19/">Single【单一】... »</a></span>
</p>

<!-- 文档信息 -->
<div class="post-foot">
  <h3>文档信息</h3>
  <ul>
    <li>版权声明：自由转载-非商用-非衍生-保持署名（
      <a href="http://creativecommons.org/licenses/by-nc-nd/3.0/deed.zh">创意共享3.0许可证</a>）
    </li>
    <li>作者：<a href="/">Lian</a></li>
    <li>日期：2018年05月21日 20:05</li>
    <li>邮箱：lian1925@126.com</li>
  </ul>
</div>
      




<div class="content-comment">
  <h2>留言</h2>
  
  
		
</div>

<!-- 评论输入组件，填写数据：留言，称呼，电子邮件 -->

<div class="form-comment">
  <h2>
		我要发表看法
	</h2>

	<form method="post" 
	target="targetIfr"
	action="">
	 <!-- 留言正文 -->
	 
		
<p>
	<label for="comment-content">
		您的留言:
	</label>
</p>

<p>
	<textarea 
	id="comment-content" 
	name="content" 
	rows="10" cols="50">
	</textarea>
</p>

		<!-- 姓名 -->
	 
		
<p>
	<label for="comment-author">
		您的大名:
	</label>
</p>

<p>
	<input 
	id="comment-author" 
	name="author" 
	size="30" 
	value=""
	pattern="^.{2,150}$"
	required
	>
	<span class="hint">
			 «-必填
	</span
</p>


		<!-- 微信 -->
	 
		
<p>
	<label for="comment-wechat">
		您的微信:
	</label>
</p>

<p>
	<input 
	id="comment-wechat" 
	name="wechat" 
	size="30" 
	value=""
	pattern="^[a-zA-Zd_]{5,}$"
	
	>
	<span class="hint">
			 «-选填，不公开
	</span
</p>


		<!-- 电子邮箱 -->
		
		
<p>
	<label for="comment-email">
		电子邮箱：
	</label>
</p>

<p>
	<input 
	id="comment-email" 
	name="email" 
	size="30" 
	value=""
	pattern="^[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(.[a-zA-Z0-9_-]+)+$"
	
	>
	<span class="hint">
			 «-选填，不公开
	</span
</p>


		
		<p>

		
<div class="button">
    <input 
    class="submit-button" 
    onclick="doButton('addComment')"
    value="发表">
    <span class="hint"> «- 点击按钮</span>
</div>
		</p>
	</form>
	<iframe name="targetIfr" style="display:none"></iframe> 
</div>


<!-- data:{
	name:'',
	type:'passwor',
	label:'您的大名',
	hint:'',
	pattern:'[A-z]{3}',
	required:"required"
} -->


<p id="info-meta" style="display:none;">
  online-eos-17
</p>


<p id="info-url" style="display:none;">
  
</p>

<div class="footer">
  Copyright @ <a href="/">lian</a> | 2009-2018
</div>

</div>

<script src="/js/jquery.js"></script>
<script src="/js/APlayer.min.js"></script>
<script src="/js/post.js"></script>

</body>

</html>

