
<!DOCTYPE html>

<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="icon" type="image/png" href="/img/sand2.png">
  <link rel="shortcut icon" type="image/x-icon" href="/img/sand2.png">
  <meta property="og:image" content="https://assets-cdn.github.com/images/modules/open_graph/github-octocat.png">
  
  <link rel="stylesheet" href="/css/style.css?v=1.2">
  <title>
    小沙丘的网络漫游记
  </title>
<link rel="stylesheet" href="/css/prism-ghcolors.css" type="text/css"></head>
<body>
  
  <script>
      if (/mobile/i.test(navigator.userAgent) || /android/i.test(navigator.userAgent)){
        document.body.classList.add('mobile');            
      } else{
        document.body.classList.add('pc');
        document.getElementsByTagName("html")[0].style.fontSize="62.5%";
      }
      var u = navigator.userAgent;
var isAndroid = u.indexOf('Android') > -1 || u.indexOf('Adr') > -1; //android终端
var isiOS = !!u.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/); //ios终端
if(isiOS){
  document.body.classList.add('ios');
  document.getElementsByTagName("html")[0].style.fontSize="65%";
           
}
    </script>

  <div class="container">
<!-- 用于文章页面的顶部，提供返回主页和主题页的按键 -->
<!-- 头部开始 -->

<div id="header">
    <p>小沙丘的网络漫游记
      <span> » 
        <a href="/home/">首页</a>
      </span>
      
      <span> » 
          <a href="/tags/编程/">
            编程
          </a>
      </span>
      
    </p>
</div>

<!-- 头部结束 -->



<!-- 分类组件，放置于文章页面的顶部，提供上(或下)一篇导航按键。 -->
<div class="asset-nav">
    <div class="entry-categories">
      <p>主题：
        <span> 
            <a href="/tags/编程/">
              编程
            </a>
        </span>
      </p>
    </div>
    <div class="entry-location-mobile">
        <span>
            
            <a href="/2018/03/21/draft-js-ruan-1/">
            &#8676;
            </a>
        </span>
        <span>
            
            <a href="/2018/03/21/draft-code-js-2/">
              &#8677;
            </a>
        </span>
    </div>
    <div class="entry-location">
        <P>上一篇：
                <a href="/2018/03/21/draft-js-ruan-1/">
                    构造函数与 new 命令 | 阅读文档
                </a>
        </P>
        <P>下一篇：

                <a href="/2018/03/21/draft-code-js-2/">
                    Arrow function 2 | JavaScript
                </a>
        </P>
    </div>
</div>

<div class="post">
<div class="title-post">
<h1>Variable 1 | JavaScript</h1>
<div class="post-meta">
  <p>作者： Lian</p>
  <p>日期：
    2018年03月21日 17:03
  </p>
</div>
</div>



  <div class="page">
      <h2 id="1-Short-explanation"><a href="#1-Short-explanation" class="headerlink" title="1 Short explanation"></a>1 Short explanation</h2><p>Variables declared with const keyword can’t be reassigned, while let and var can.</p>
<p>I recommend always declaring your variables with const by default, and with let if you need to mutate it or reassign it later.</p>
<h2 id="2-Sample-code"><a href="#2-Sample-code" class="headerlink" title="2 Sample code"></a>2 Sample code</h2><pre class=" language-js"><code class="language-js"><span class="token keyword">const</span> person <span class="token operator">=</span> <span class="token string">"Nick"</span><span class="token punctuation">;</span>
person <span class="token operator">=</span> <span class="token string">"John"</span> <span class="token comment" spellcheck="true">// Will raise an error, person can't be reassigned</span>

<span class="token keyword">let</span> person <span class="token operator">=</span> <span class="token string">"Nick"</span><span class="token punctuation">;</span>
person <span class="token operator">=</span> <span class="token string">"John"</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// "John", reassignment is allowed with let</span>
</code></pre>
<h2 id="3-Detailed-explanation"><a href="#3-Detailed-explanation" class="headerlink" title="3 Detailed explanation"></a>3 Detailed explanation</h2><p>The scope of a variable roughly means “where is this variable available in the code”.</p>
<h3 id="var"><a href="#var" class="headerlink" title="var"></a>var</h3><p>var declared variables are function scoped, meaning that when a variable is created in a function, everything in that function can access that variable. Besides, a function scoped variable created in a function can’t be accessed outside this function.</p>
<p>I recommend you to picture it as if an X scoped variable meant that this variable was a property of X.</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">myFunction</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> myVar <span class="token operator">=</span> <span class="token string">"Nick"</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>myVar<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// "Nick" - myVar is accessible inside the function</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>myVar<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// Throws a ReferenceError, myVar is not accessible outside the function.</span>
</code></pre>
<p>Still focusing on the variable scope, here is a more subtle example:</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">myFunction</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> myVar <span class="token operator">=</span> <span class="token string">"Nick"</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> myVar <span class="token operator">=</span> <span class="token string">"John"</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>myVar<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// "John"</span>
    <span class="token comment" spellcheck="true">// actually, myVar being function scoped, we just erased the previous myVar value "Nick" for "John"</span>
  <span class="token punctuation">}</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>myVar<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// "John" - see how the instructions in the if block affected this value</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>myVar<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// Throws a ReferenceError, myVar is not accessible outside the function.</span>
</code></pre>
<p>Besides, var declared variables are moved to the top of the scope at execution. This is what we call var hoisting.</p>
<p>This portion of code:</p>
<pre class=" language-js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>myVar<span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// undefined -- no error raised</span>
<span class="token keyword">var</span> myVar <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>

is understood at execution like<span class="token punctuation">:</span>

<span class="token keyword">var</span> myVar<span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>myVar<span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// undefined -- no error raised</span>
myVar <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
</code></pre>
<h3 id="let"><a href="#let" class="headerlink" title="let"></a>let</h3><p>var and let are about the same, but let declared variables</p>
<ul>
<li>are block scoped</li>
<li>are not accessible before they are assigned</li>
<li>can’t be re-declared in the same scope</li>
</ul>
<p>Let’s see the impact of block-scoping taking our previous example:</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">myFunction</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> myVar <span class="token operator">=</span> <span class="token string">"Nick"</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> myVar <span class="token operator">=</span> <span class="token string">"John"</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>myVar<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// "John"</span>
    <span class="token comment" spellcheck="true">// actually, myVar being block scoped, we just created a new variable myVar.</span>
    <span class="token comment" spellcheck="true">// this variable is not accessible outside this block and totally independent</span>
    <span class="token comment" spellcheck="true">// from the first myVar created !</span>
  <span class="token punctuation">}</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>myVar<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// "Nick", see how the instructions in the if block DID NOT affect this value</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>myVar<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// Throws a ReferenceError, myVar is not accessible outside the function.</span>
</code></pre>
<p>Now, what it means for let (and const) variables for not being accessible before being assigned:</p>
<pre class=" language-js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>myVar<span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// raises a ReferenceError !</span>
<span class="token keyword">let</span> myVar <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
</code></pre>
<p>By contrast with var variables, if you try to read or write on a let or const variable before they are assigned an error will be raised. This phenomenon is often called Temporal dead zone or TDZ.</p>
<blockquote>
<p>Note: Technically, let and const variables declarations are being hoisted too, but not their assignation. Since they’re made so that they can’t be used before assignation, it intuitively feels like there is no hoisting, but there is. Find out more on this very detailed explanation here if you want to know more.</p>
</blockquote>
<p>In addition, you can’t re-declare a let variable:</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> myVar <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> myVar <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// Raises a SyntaxError</span>
</code></pre>
<h3 id="const"><a href="#const" class="headerlink" title="const"></a>const</h3><p>const declared variables behave like let variables, but also they can’t be reassigned.</p>
<p>To sum it up, const variables:</p>
<ul>
<li>are block scoped</li>
<li>are not accessible before being assigned</li>
<li>can’t be re-declared in the same scope</li>
<li>can’t be reassigned</li>
</ul>
<pre class=" language-js"><code class="language-js"><span class="token keyword">const</span> myVar <span class="token operator">=</span> <span class="token string">"Nick"</span><span class="token punctuation">;</span>
myVar <span class="token operator">=</span> <span class="token string">"John"</span> <span class="token comment" spellcheck="true">// raises an error, reassignment is not allowed</span>

<span class="token keyword">const</span> myVar <span class="token operator">=</span> <span class="token string">"Nick"</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> myVar <span class="token operator">=</span> <span class="token string">"John"</span> <span class="token comment" spellcheck="true">// raises an error, re-declaration is not allowed</span>
</code></pre>
<p>But there is a subtlety : const variables are not immutable ! Concretely, it means that object and array const declared variables can be mutated.</p>
<p>For objects:</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">const</span> person <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token punctuation">:</span> <span class="token string">'Nick'</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
person<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'John'</span> <span class="token comment" spellcheck="true">// this will work ! person variable is not completely reassigned, but mutated</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">.</span>name<span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// "John"</span>
person <span class="token operator">=</span> <span class="token string">"Sandra"</span> <span class="token comment" spellcheck="true">// raises an error, because reassignment is not allowed with const declared variables</span>
</code></pre>
<p>For arrays:</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">const</span> person <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
person<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'John'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// this will work ! person variable is not completely reassigned, but mutated</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// "John"</span>
person <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"Nick"</span><span class="token punctuation">]</span> <span class="token comment" spellcheck="true">// raises an error, because reassignment is not allowed with const declared variables</span>
</code></pre>
<p>(End)</p>

  </div>
</div>


<p class="nav-foot">
  <span class="left"><a href="/2018/03/21/draft-code-js-10/">« Tagged tem...</a></span>
  <span class="right"><a href="/2018/03/21/draft-code-js-11/">Imports | ... »</a></span>
</p>

<!-- 文档信息 -->
<div class="post-foot">
  <h3>文档信息</h3>
  <ul>
    <li>版权声明：自由转载-非商用-非衍生-保持署名（
      <a href="http://creativecommons.org/licenses/by-nc-nd/3.0/deed.zh">创意共享3.0许可证</a>）
    </li>
    <li>作者：<a href="/">Lian</a></li>
    <li>日期：2018年03月21日 17:03</li>
    <li>邮箱：lian1925@126.com</li>
  </ul>
</div>
      




<div class="content-comment">
  <h2>留言</h2>
  
  
		
</div>

<!-- 评论输入组件，填写数据：留言，称呼，电子邮件 -->

<div class="form-comment">
  <h2>
		我要发表看法
	</h2>

	<form method="post" 
	target="targetIfr"
	action="">
	 <!-- 留言正文 -->
	 
		
<p>
	<label for="comment-content">
		您的留言:
	</label>
</p>

<p>
	<textarea 
	id="comment-content" 
	name="content" 
	rows="10" cols="50">
	</textarea>
</p>

		<!-- 姓名 -->
	 
		
<p>
	<label for="comment-author">
		您的大名:
	</label>
</p>

<p>
	<input 
	id="comment-author" 
	name="author" 
	size="30" 
	value=""
	pattern="^.{2,150}$"
	required
	>
	<span class="hint">
			 «-必填
	</span
</p>


		<!-- 微信 -->
	 
		
<p>
	<label for="comment-wechat">
		您的微信:
	</label>
</p>

<p>
	<input 
	id="comment-wechat" 
	name="wechat" 
	size="30" 
	value=""
	pattern="^[a-zA-Zd_]{5,}$"
	
	>
	<span class="hint">
			 «-选填，不公开
	</span
</p>


		<!-- 电子邮箱 -->
		
		
<p>
	<label for="comment-email">
		电子邮箱：
	</label>
</p>

<p>
	<input 
	id="comment-email" 
	name="email" 
	size="30" 
	value=""
	pattern="^[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(.[a-zA-Z0-9_-]+)+$"
	
	>
	<span class="hint">
			 «-选填，不公开
	</span
</p>


		
		<p>

		
<div class="button">
    <input 
    class="submit-button" 
    onclick="doButton('addComment')"
    value="发表">
    <span class="hint"> «- 点击按钮</span>
</div>
		</p>
	</form>
	<iframe name="targetIfr" style="display:none"></iframe> 
</div>


<!-- data:{
	name:'',
	type:'passwor',
	label:'您的大名',
	hint:'',
	pattern:'[A-z]{3}',
	required:"required"
} -->


<p id="info-meta" style="display:none;">
  draft-code-js-1
</p>


<p id="info-url" style="display:none;">
  
</p>

<div class="footer">
  Copyright @ <a href="/">lian</a> | 2009-2018
</div>

</div>

<script src="/js/jquery.js"></script>
<script src="/js/APlayer.min.js"></script>
<script src="/js/post.js"></script>

</body>

</html>

