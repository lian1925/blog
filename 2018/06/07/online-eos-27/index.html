
<!DOCTYPE html>

<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="icon" type="image/png" href="/img/sand2.png">
  <link rel="shortcut icon" type="image/x-icon" href="/img/sand2.png">
  <meta property="og:image" content="https://assets-cdn.github.com/images/modules/open_graph/github-octocat.png">
  
  <link rel="stylesheet" href="/css/style.css?v=1.3"> 
  <link href="//vjs.zencdn.net/6.7/video-js.min.css" rel="stylesheet">
  <script src="//vjs.zencdn.net/6.7/video.min.js"></script>
  
  <title>EOS DAWN 4.0 的 RAM 究竟是什么 | 小沙丘的网络漫游记</title>
 <meta name="description" content="" >

 <!-- 百度统计 -->
 <script>
  var _hmt = _hmt || [];
  (function() {
    var hm = document.createElement("script");
    hm.src = "https://hm.baidu.com/hm.js?eafa0040e1ab3bed28ce82ef03de6e01";
    var s = document.getElementsByTagName("script")[0]; 
    s.parentNode.insertBefore(hm, s);
  })();
  </script>
  
<link rel="stylesheet" href="/css/prism-ghcolors.css" type="text/css"></head>
<body>
  
  <script>
      if (/mobile/i.test(navigator.userAgent) || /android/i.test(navigator.userAgent)){
        document.body.classList.add('mobile');            
      } else{
        document.body.classList.add('pc');
        document.getElementsByTagName("html")[0].style.fontSize="62.5%";
      }
      var u = navigator.userAgent;
var isAndroid = u.indexOf('Android') > -1 || u.indexOf('Adr') > -1; //android终端
var isiOS = !!u.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/); //ios终端
if(isiOS){
  document.body.classList.add('ios');
  document.getElementsByTagName("html")[0].style.fontSize="65%";
           
}
    </script>

  <div class="container">
<!-- 用于文章页面的顶部，提供返回主页和主题页的按键 -->
<!-- 头部开始 -->

<div id="header">
    <p>小沙丘的网络漫游记
      <span> » 
        <a href="/home/">首页</a>
      </span>
      
      <span> » 
          <a href="/tags/EOS/">
            EOS
          </a>
      </span>
      
    </p>
</div>

<!-- 头部结束 -->



<!-- 分类组件，放置于文章页面的顶部，提供上(或下)一篇导航按键。 -->
<div class="asset-nav">
    <div class="entry-categories">
      <p>主题：
        <span> 
            <a href="/tags/EOS/">
              EOS
            </a>
        </span>
      </p>
    </div>
    <div class="entry-location-mobile">
        <span>
            
            <a href="/2018/06/07/draft-pxt-1/">
            &#8676;
            </a>
        </span>
        <span>
            
            <a href="#">
              &#8677;
            </a>
        </span>
    </div>
    <div class="entry-location">
        <P>上一篇：
                <a href="/2018/06/07/draft-pxt-1/">
                    PXT 白皮书 | 草稿
                </a>
        </P>
        <P>下一篇：

                <a href="#">
                    无
                </a>
        </P>
    </div>
</div>

<div class="post">
<div class="title-post">
<h1>EOS DAWN 4.0 的 RAM 究竟是什么</h1>
<div class="post-meta">
  <p>作者： Lian</p>
  <p>日期：
    2018年06月07日 13:06
  </p>
</div>
</div>



  
  <div class="page">
      <h2 id="EOS-DAWN-4-0-的-RAM"><a href="#EOS-DAWN-4-0-的-RAM" class="headerlink" title="EOS DAWN 4.0 的 RAM"></a>EOS DAWN 4.0 的 RAM</h2><p>RAM 接触过计算机的朋友可能听说过，在计算机领域中，主要用来存储临时数据。通常，我们会称之为内存，也就是大家常说的手机内存或电脑内存。</p>
<p>在EOS上开发智能合约，合约运行时需要占用RAM资源。如同水资源一般，RAM资源也是非常宝贵的。</p>
<p>在 EOS DAWN 4.0中首次提出，测试中EOS的核心开发团队发现，EOSIO系统合同向持有代币的人，分配RAM(数据库空间)的方式，会导致未来资源的短缺。</p>
<h2 id="RAM分配模型"><a href="#RAM分配模型" class="headerlink" title="RAM分配模型"></a>RAM分配模型</h2><p>当前，EOS 决定基于市场为基础分配RAM资源，使用了Bancor算法。</p>
<p>BM认为，假设一个EOS价格是20美元，1TB的RAM按比例分配给代币持有者人，每字节成本是0.018美元。不过，考虑到大部分的代币持有人并没有很强的需求使用他们被赋予的RAM，EOS团队一开始把内存定价在每字节0.000018美元（假设一个EOS20美元）。</p>
<p>这样做的好处是新账户只需花费0.1美元价格，也就是4KB RAM。按照这个市场为基础的分配机制，随着可使用的RAM减少，价格升高，在RAM快被用完时，价格接近无穷大。</p>
<h2 id="转让机制优化"><a href="#转让机制优化" class="headerlink" title="转让机制优化"></a>转让机制优化</h2><p>Dawn3.0有一个很讨巧的设计，就是RAM只能按照当初购买的价格转让。也就是跟现在价格高低无关。好处是防止有人囤积RAM进行投机。</p>
<p>当然这样做存在一个很大的缺点：一开始以很便宜价格购买RAM的用户就没有任何动机再把它卖出去，即使在系统很拥堵，其他人有强烈意愿购买RAM时也一样。</p>
<p>Dawn4.0优化了这个机制，系统合约按照当前的市场价格进行购买和售出RAM。有一些交易者会提前购买RAM，如果他意料到将来会出现RAM短缺。这样会有人寻求投机的空间。不过，最终来说，从蓝狐笔记来看，也许通过市场机制来平衡供需关系可能是相对好的一个选择，在这个过程中，可能会有一些大鳄通过自己的方式来操作市场。</p>
<p>同时，EOS也考虑到了摩尔定律，随着技术的升级，区块生产者升级到4TB，甚至是16TB的RAM，这样的供应量的增长也会进入EOSIO RAM市场，通过这个来平衡市场价值，防止过度投机。</p>
<h2 id="BM-针对-RAM-的回复"><a href="#BM-针对-RAM-的回复" class="headerlink" title="BM 针对 RAM 的回复"></a>BM 针对 RAM 的回复</h2><p>Andrey Perchits问：<br>为了得到一些在智能合约中运行的RAM，我需要为它付费，对吗？</p>
<p>BM答：<br>买入RAM，意味着锁定RAM资源。社区中提供了两个选择方案：</p>
<p>1、解锁RAM，按照你支付RAM时的费用，给予返款。<br>2、售卖RAM，根据当前RAM的市场价格，给予返款。</p>
<p>对于第一种方案，那些早期以便宜价格购入RAM的人来说，没有足够的经济动机释放RAM资源。而且，人们可能会在早期大量购入RAM资源，即使他们并不需要。</p>
<p>对于第二种方案，我们支持“RAM的准备金机制”，在100％储备金的机制下，将使价格远低于EOS的1％购买1％RAM的价格。这让市场自然设定价格并管理稀缺性。</p>
<h2 id="原文"><a href="#原文" class="headerlink" title="原文"></a>原文</h2><p>Andrey Perchits:</p>
<p>In order to get some RAM for contract I should stake for it, right?</p>
<p>Daniel Larimer:</p>
<p>“Buying RAM” is “staking for RAM”… there are two options the community could adopt:</p>
<p>“unstaking RAM” refunds you what you paid for the RAM<br>“selling RAM” refunds you what the RAM is currently worth<br>With the unstaking model there is disincentive to free memory for those who got it cheap early on. People may purchase more than they need early on.</p>
<p>With buying/selling of RAM allocation we support “fractional reserve RAM” which keeps prices much lower than if it was 1% of EOS buys 1% of RAM under 100% reserve. This lets the market set the price and manages the scarcity naturally.</p>
<h2 id="跨链通讯"><a href="#跨链通讯" class="headerlink" title="跨链通讯"></a>跨链通讯</h2><p>高性能区块链需要RAM上的所有数据，由于访问磁盘的时间会导致交易吞吐量迅速下降到每秒几百个交易。</p>
<p>BM认为，为了扩展RAM使用量，需要多条链，这些链有独立内存区，并在独立硬件上运行。</p>
<p>EOSIO区块生产者可以运行多条不同的链，都可以使用同样的代币购买RAM和带宽。区块生产者的选举在主链上进行，所有相关的侧链由同一组生产者运行。</p>
<p>每条链可以有自己的1TB+RAM，DApp在不同链之间发送消息的延迟时间仅有几秒。</p>
<p>RAM价格在不同链上有所不同，DApp开发者可以知道那里运行最便宜。</p>
<h2 id="对开发者的建议"><a href="#对开发者的建议" class="headerlink" title="对开发者的建议"></a>对开发者的建议</h2><p>RAM是开发者用于存储数据库记录的资源。但是RAM都是需要成本的，把存储在内存数据库中的数据量减到最小是有很强需求的，开发者设计应用时，有必要考虑到在用户用完后释放RAM。</p>
<p>BM提到了Steem的案例，他说Steem仅在RAM存储1周的内容，整体大小不会随着时间流逝而增长太多。</p>
<h2 id="减少投机，资源合理利用"><a href="#减少投机，资源合理利用" class="headerlink" title="减少投机，资源合理利用"></a>减少投机，资源合理利用</h2><p>那么现在形成了一个RAM市场，投机者或许想要利用RAM价格的波动性获取盈利。而 EOSIO 系统合约设定RAM不可转让，并收取1％的交易费用。这笔费用的结果是通过将其退出市场来抵消Token 的自然通货膨胀。</p>
<p>如果 RAM 的年度交易量等于 Token 供应量，则所有块生产者奖励的100％将由 RAM 市场费用支付。</p>
<p>“ 1. 这里的RAM不可转让是指RAM资源不可以直接转让，只能通过锁定EOS来获取RAM资源。而这个过程将会收取1%的手续费，这个机制的设定类似于以太坊上gas的限制。</p>
<ol>
<li>年度交易量如果等于Token供应量，那么对应的手续费将可用于抵消因奖励超级节点所带来的通胀。”</li>
</ol>
<p>( end )</p>

  </div>
</div>


<p class="nav-foot">
  <span class="left"><a href="/2018/06/05/online-eos-26/">« 映射</a></span>
  <span class="right"><a href="/2018/05/21/online-eos-18/">Tic Tac To »</a></span>
</p>

<!-- 文档信息 -->
<div class="post-foot">
  <h3>文档信息</h3>
  <ul>
    <li>版权声明：自由转载-非商用-非衍生-保持署名（
      <a href="http://creativecommons.org/licenses/by-nc-nd/3.0/deed.zh">创意共享3.0许可证</a>）
    </li>
    <li>作者：<a href="/">Lian</a></li>
    <li>日期：2018年06月07日 13:06</li>
    <li>邮箱：lian1925@126.com</li>
  </ul>
</div>
      




<div class="content-comment">
  <h2>留言</h2>
  
  
		
</div>

<!-- 评论输入组件，填写数据：留言，称呼，电子邮件 -->

<div class="form-comment">
  <h2>
		我要发表看法
	</h2>

	<form method="post" 
	target="targetIfr"
	action="">
	 <!-- 留言正文 -->
	 
		
<p>
	<label for="comment-content">
		您的留言:
	</label>
</p>

<p>
	<textarea 
	id="comment-content" 
	name="content" 
	rows="10" cols="50">
	</textarea>
</p>

		<!-- 姓名 -->
	 
		
<p>
	<label for="comment-author">
		您的大名:
	</label>
</p>

<p>
	<input 
	id="comment-author" 
	name="author" 
	size="30" 
	value=""
	pattern="^.{2,150}$"
	required
	>
	<span class="hint">
			 «-必填
	</span
</p>


		<!-- 微信 -->
	 
		
<p>
	<label for="comment-wechat">
		您的微信:
	</label>
</p>

<p>
	<input 
	id="comment-wechat" 
	name="wechat" 
	size="30" 
	value=""
	pattern="^[a-zA-Zd_]{5,}$"
	
	>
	<span class="hint">
			 «-选填，不公开
	</span
</p>


		<!-- 电子邮箱 -->
		
		
<p>
	<label for="comment-email">
		电子邮箱：
	</label>
</p>

<p>
	<input 
	id="comment-email" 
	name="email" 
	size="30" 
	value=""
	pattern="^[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(.[a-zA-Z0-9_-]+)+$"
	
	>
	<span class="hint">
			 «-选填，不公开
	</span
</p>


		
		<p>

		
<div class="button">
    <input 
    class="submit-button" 
    onclick="doButton('addComment')"
    value="发表">
    <span class="hint"> «- 点击按钮</span>
</div>
		</p>
	</form>
	<iframe name="targetIfr" style="display:none"></iframe> 
</div>


<!-- data:{
	name:'',
	type:'passwor',
	label:'您的大名',
	hint:'',
	pattern:'[A-z]{3}',
	required:"required"
} -->


<p id="info-meta" style="display:none;">
  online-eos-27
</p>


<p id="info-url" style="display:none;">
  
</p>

<div class="footer">
  Copyright @ <a href="/">lian</a> | 2009-2018
</div>

</div>

<script src="/js/jquery.js"></script>
<script src="/js/APlayer.min.js"></script>
<script src="/js/post.js"></script>

</body>

</html>

